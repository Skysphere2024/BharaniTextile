// SDK
/*
 regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE  JavaScript Cookie v2.2.1
 https://github.com/js-cookie/js-cookie

 Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 Released under the MIT license
*/
'use strict';
var SalesforceInteractions = function(e) {
        function Ya(b, a) {
            var c = Object.keys(b);
            if (Object.getOwnPropertySymbols) {
                var d = Object.getOwnPropertySymbols(b);
                a && (d = d.filter(function(a) {
                    return Object.getOwnPropertyDescriptor(b, a).enumerable
                }));
                c.push.apply(c, d)
            }
            return c
        }

        function q(b) {
            for (var a = 1; a < arguments.length; a++) {
                var c = null != arguments[a] ? arguments[a] : {};
                a % 2 ? Ya(Object(c), !0).forEach(function(a) {
                        Z(b, a, c[a])
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(b, Object.getOwnPropertyDescriptors(c)) :
                    Ya(Object(c)).forEach(function(a) {
                        Object.defineProperty(b, a, Object.getOwnPropertyDescriptor(c, a))
                    })
            }
            return b
        }

        function Za(b) {
            a: if ("object" == typeof b && b) {
                var a = b[Symbol.toPrimitive];
                if (void 0 !== a) {
                    b = a.call(b, "string");
                    if ("object" != typeof b) break a;
                    throw new TypeError("@@toPrimitive must return a primitive value.");
                }
                b = String(b)
            }return "symbol" == typeof b ? b : String(b)
        }

        function x(b) {
            "@babel/helpers - typeof";
            return x = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a) {
                    return typeof a
                } :
                function(a) {
                    return a && "function" == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
                }, x(b)
        }

        function M(b, a) {
            if (!(b instanceof a)) throw new TypeError("Cannot call a class as a function");
        }

        function $a(b, a) {
            for (var c = 0; c < a.length; c++) {
                var d = a[c];
                d.enumerable = d.enumerable || !1;
                d.configurable = !0;
                "value" in d && (d.writable = !0);
                Object.defineProperty(b, Za(d.key), d)
            }
        }

        function N(b, a, c) {
            a && $a(b.prototype, a);
            c && $a(b, c);
            Object.defineProperty(b, "prototype", {
                writable: !1
            });
            return b
        }

        function Z(b,
            a, c) {
            a = Za(a);
            a in b ? Object.defineProperty(b, a, {
                value: c,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : b[a] = c;
            return b
        }

        function ac(b, a) {
            if ("function" !== typeof a && null !== a) throw new TypeError("Super expression must either be null or a function");
            b.prototype = Object.create(a && a.prototype, {
                constructor: {
                    value: b,
                    writable: !0,
                    configurable: !0
                }
            });
            Object.defineProperty(b, "prototype", {
                writable: !1
            });
            a && ma(b, a)
        }

        function H(b) {
            H = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(a) {
                return a.__proto__ || Object.getPrototypeOf(a)
            };
            return H(b)
        }

        function ma(b, a) {
            ma = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(a, b) {
                a.__proto__ = b;
                return a
            };
            return ma(b, a)
        }

        function bc() {
            if ("undefined" === typeof Reflect || !Reflect.construct || Reflect.construct.sham) return !1;
            if ("function" === typeof Proxy) return !0;
            try {
                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0
            } catch (b) {
                return !1
            }
        }

        function cc(b) {
            var a = bc();
            return function() {
                var c = H(b);
                if (a) {
                    var d = H(this).constructor;
                    c = Reflect.construct(c, arguments, d)
                } else c =
                    c.apply(this, arguments);
                if (!c || "object" !== typeof c && "function" !== typeof c) {
                    if (void 0 !== c) throw new TypeError("Derived constructors may only return object or undefined");
                    if (void 0 === this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    c = this
                }
                return c
            }
        }

        function aa() {
            aa = "undefined" !== typeof Reflect && Reflect.get ? Reflect.get.bind() : function(b, a, c) {
                var d;
                for (d = b; !Object.prototype.hasOwnProperty.call(d, a) && (d = H(d), null !== d););
                if (d) return d = Object.getOwnPropertyDescriptor(d,
                    a), d.get ? d.get.call(3 > arguments.length ? b : c) : d.value
            };
            return aa.apply(this, arguments)
        }

        function ba(b, a) {
            var c = Array.isArray(b) ? b : void 0;
            if (!c) a: {
                var d = null == b ? null : "undefined" != typeof Symbol && b[Symbol.iterator] || b["@@iterator"];
                if (null != d) {
                    var f, g, n, h = [],
                        e = !0,
                        l = !1;
                    try {
                        if (g = (d = d.call(b)).next, 0 === a) {
                            if (Object(d) !== d) {
                                c = void 0;
                                break a
                            }
                            e = !1
                        } else
                            for (; !(e = (f = g.call(d)).done) && (h.push(f.value), h.length !== a); e = !0);
                    } catch (na) {
                        l = !0;
                        var k = na
                    } finally {
                        try {
                            if (!e && null != d.return && (n = d.return(), Object(n) !== n)) {
                                c =
                                    void 0;
                                break a
                            }
                        } finally {
                            if (l) throw k;
                        }
                    }
                    c = h
                } else c = void 0
            }
            if (!(b = c || oa(b, a))) throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            return b
        }

        function ab(b) {
            var a = Array.isArray(b) ? pa(b) : void 0;
            a || (a = "undefined" !== typeof Symbol && null != b[Symbol.iterator] || null != b["@@iterator"] ? Array.from(b) : void 0);
            if (!(b = a || oa(b))) throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            return b
        }

        function oa(b, a) {
            if (b) {
                if ("string" === typeof b) return pa(b, a);
                var c = Object.prototype.toString.call(b).slice(8, -1);
                "Object" === c && b.constructor && (c = b.constructor.name);
                if ("Map" === c || "Set" === c) return Array.from(b);
                if ("Arguments" === c || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)) return pa(b, a)
            }
        }

        function pa(b, a) {
            if (null == a || a > b.length) a = b.length;
            for (var c = 0, d = Array(a); c < a; c++) d[c] = b[c];
            return d
        }

        function qa(b, a) {
            var c = "undefined" !== typeof Symbol && b[Symbol.iterator] || b["@@iterator"];
            if (!c) {
                if (Array.isArray(b) ||
                    (c = oa(b)) || a && b && "number" === typeof b.length) {
                    c && (b = c);
                    var d = 0;
                    a = function() {};
                    return {
                        s: a,
                        n: function() {
                            return d >= b.length ? {
                                done: !0
                            } : {
                                done: !1,
                                value: b[d++]
                            }
                        },
                        e: function(a) {
                            throw a;
                        },
                        f: a
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
            }
            var f = !0,
                g = !1,
                n;
            return {
                s: function() {
                    c = c.call(b)
                },
                n: function() {
                    var a = c.next();
                    f = a.done;
                    return a
                },
                e: function(a) {
                    g = !0;
                    n = a
                },
                f: function() {
                    try {
                        f || null == c.return || c.return()
                    } finally {
                        if (g) throw n;
                    }
                }
            }
        }

        function bb(b) {
            r.setLoggingLevel(b)
        }

        function cb() {
            return r.getLoggingLevel()
        }

        function ra(b) {
            var a, c, d, f = [],
                g = [c = 1732584193, d = 4023233417, ~c, ~d, 3285377520],
                n = [],
                h = unescape(encodeURI(b)) + "\u0080",
                e = h.length;
            for (n[b = --e / 4 + 2 | 15] = 8 * e; ~e;) n[e >> 2] |= h.charCodeAt(e) << 8 * ~e--;
            for (a = e = 0; a < b; a += 16) {
                for (c = g; 80 > e; c = [c[4] + (f[e] = 16 > e ? ~~n[a + e] : 2 * h | 0 > h) + 1518500249 + [d & l | ~d & k, h = 341275144 + (d ^ l ^ k), 882459459 + (d & l | d & k | l & k), h + 1535694389][e++/5>>2]+((h=c[0])<<5|h>>>27),h,d<<30|d>>>2,l,k]){h=f[e-3]^f[e-8]^f[e-14]^f[e-16];
                            d = c[1];
                            var l = c[2];
                            var k = c[3]
                        }
                        for (e = 5; e;) g[--e] += c[e]
                    }
                    for (h = ""; 40 > e;) h += (g[e >> 3] >> 4 * (7 - e++) & 15).toString(16);
                    return h
                }

                function db() {
                    var b = (window.navigator.userAgent || "") + (window.navigator.platform || "") + (new Date).getTime + JSON.stringify({}) + Math.random();
                    return ca(b).slice(0, 16)
                }

                function sa(b) {
                    var a = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : z;
                    return a && 9 === a.nodeType || a && 1 === a.nodeType ? dc.test(b) ? a.getElementsByClassName(b.slice(1)) : ec.test(b) ? a.getElementsByTagName(b) : a.querySelectorAll(b) : []
                }

                function S(b) {
                    return b.replace(fc, function(a, b) {
                        return b.toUpperCase()
                    })
                }

                function t(b, a, c) {
                    if (c)
                        for (c = b.length; c-- && !1 !== a.call(b[c], c, b[c]););
                    else {
                        c = 0;
                        for (var d = b.length; c < d && !1 !== a.call(b[c], c, b[c]); c++);
                    }
                    return b
                }

                function ta(b, a) {
                    var c = b && (b.matches || b.webkitMatchesSelector || b.msMatchesSelector);
                    return !!c && c.call(b, a)
                }

                function ua(b) {
                    return !!b && b === b.window
                }

                function I(b) {
                    return "function" === typeof b
                }

                function u(b) {
                    return "string" === typeof b
                }

                function eb(b) {
                    return !isNaN(parseFloat(b)) && isFinite(b)
                }

                function va(b) {
                    return u(b) ? function(a, c) {
                        return ta(c, b)
                    } : I(b) ? b : b instanceof da ? function(a, c) {
                        return b.is(c)
                    } : b ? function(a, c) {
                        return c === b
                    } : function() {
                        return !1
                    }
                }

                function O(b, a) {
                    return a ? b.filter(a) : b
                }

                function ea(b) {
                    return u(b) ? b.match(gc) || [] : []
                }

                function B(b, a, c) {
                    for (var d = [], f = I(a), g = 0, n = b.length; g < n; g++)
                        if (f) {
                            var h = a(b[g]);
                            h.length && hc.apply(d, h)
                        } else
                            for (h = b[g][a]; null != h;) d.push(h), h = c ? h[a] : null;
                    return d
                }

                function A(b) {
                    return 1 < b.length ? wa.call(b, function(a, b, d) {
                        return fb.call(d, a) === b
                    }) : b
                }

                function J(b,
                    a, c) {
                    if (b && 1 === b.nodeType && a) return b = T.getComputedStyle(b, null), a ? c ? b.getPropertyValue(a) || void 0 : b[a] : b
                }

                function P(b, a) {
                    return parseInt(J(b, a), 10) || 0
                }

                function gb(b) {
                    if (1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : xa.test(b)) return b;
                    if (!ya[b]) {
                        var a = S(b),
                            c = "".concat(a[0].toUpperCase()).concat(a.slice(1));
                        a = "".concat(a, " ").concat(ic.join("".concat(c, " "))).concat(c).split(" ");
                        t(a, function(a, c) {
                            if (c in jc) return ya[b] = c, !1
                        })
                    }
                    return ya[b]
                }

                function hb(b, a) {
                    return (2 < arguments.length && void 0 !==
                        arguments[2] ? arguments[2] : xa.test(b)) || kc[b] || !eb(a) ? a : "".concat(a, "px")
                }

                function ib(b, a) {
                    b = b.dataset[a] || b.dataset[S(a)];
                    try {
                        return JSON.parse(b)
                    } catch (c) {}
                    return b
                }

                function jb(b, a) {
                    return P(b, "border".concat(a ? "Left" : "Top", "Width")) + P(b, "padding".concat(a ? "Left" : "Top")) + P(b, "padding".concat(a ? "Right" : "Bottom")) + P(b, "border".concat(a ? "Right" : "Bottom", "Width"))
                }

                function kb(b, a) {
                    return !a || !za.call(a, function(a) {
                        return 0 > b.indexOf(a)
                    })
                }

                function lc(b, a, c, d, f) {
                    f.guid = f.guid || k.guid++;
                    var g = b.___ce = b.___ce || {};
                    g[a] = g[a] || [];
                    g[a].push([c, d, f]);
                    b.addEventListener(a, f)
                }

                function Aa(b) {
                    b = b.split(".");
                    return [b[0], b.slice(1).sort()]
                }

                function fa(b, a, c, d, f) {
                    var g = b.___ce = b.___ce || {};
                    if (a) g[a] && (g[a] = g[a].filter(function(g) {
                        var h = ba(g, 3);
                        g = h[0];
                        var e = h[1];
                        h = h[2];
                        if (f && h.guid !== f.guid || !kb(g, c) || d && d !== e) return !0;
                        b.removeEventListener(a, h)
                    }));
                    else
                        for (a in g) fa(b, a, c, d, f)
                }

                function lb(b) {
                    return b.multiple && b.options ? B(wa.call(b.options, function(a) {
                            return a.selected && !a.disabled && !a.parentNode.disabled
                        }), "value") :
                        b.value || ""
                }

                function mb(b) {
                    if (!u(b)) return [];
                    if (mc.test(b)) return [K(RegExp.$1)];
                    var a = nc.test(b) && RegExp.$1;
                    a = nb[a] || nb["*"];
                    a.innerHTML = b;
                    return k(a.childNodes).detach().get()
                }

                function oc(b, a) {
                    b = k(b);
                    b.filter("script").add(b.find("script")).each(function(b, d) {
                        if (pc.test(d.type) && Ba.contains(d)) {
                            var c = K("script");
                            c.text = d.textContent.replace(qc, "");
                            t(rc, function(a, b) {
                                d[b] && (c[b] = d[b])
                            });
                            a.head.insertBefore(c, null);
                            a.head.removeChild(c)
                        }
                    })
                }

                function D(b, a, c, d, f, g, e, h) {
                    t(b, function(b, g) {
                        t(k(g), function(b,
                            g) {
                            t(k(a), function(a, b) {
                                var h = c ? b : g;
                                b = c ? g : b;
                                a = a ? h.cloneNode(!0) : h;
                                f ? b.insertBefore(a, d ? b.firstElementChild : null) : b.parentNode.insertBefore(a, d ? b : b.nextElementSibling);
                                oc(a, b.ownerDocument)
                            }, h)
                        }, e)
                    }, g);
                    return a
                }

                function ob(b, a, c) {
                    return "function" === typeof c ? {
                        bind: b,
                        selector: a,
                        callback: c
                    } : null
                }

                function tc() {
                    Ca = p.onFireException.on(function(b, a) {
                        document.dispatchEvent(new CustomEvent(e.CustomEvents.OnException, {
                            detail: {
                                error: b,
                                context: a
                            }
                        }))
                    });
                    Da = p.onEventSend.on(function(b) {
                        document.dispatchEvent(new CustomEvent(e.CustomEvents.OnBeforeEventSend, {
                            detail: {
                                actionEvent: b
                            },
                            cancelable: !0
                        })) && document.dispatchEvent(new CustomEvent(e.CustomEvents.OnEventSend, {
                            detail: {
                                actionEvent: b
                            }
                        }))
                    });
                    Ea = p.onPageMatchStatusUpdated.on(function(b) {
                        document.dispatchEvent(new CustomEvent(e.CustomEvents.OnPageMatchStatusUpdated, {
                            detail: {
                                matchStatus: b
                            }
                        }))
                    });
                    Fa = p.onInitSitemap.on(function(b) {
                        document.dispatchEvent(new CustomEvent(e.CustomEvents.OnInitSitemap, {
                            detail: {
                                sitemapConfig: b
                            }
                        }))
                    })
                }

                function ha(b) {
                    Ca && Ca();
                    Da && Da();
                    Ea && Ea();
                    Fa && Fa();
                    document.dispatchEvent(new CustomEvent(e.CustomEvents.OnShutDown, {
                        detail: {
                            message: b
                        }
                    }));
                    Ga = "shutDown";
                    return !1
                }
                var Ha = ["error", "warn", "info", "debug", "trace"],
                    r = new(function() {
                        function b() {
                            var a = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "",
                                c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 0;
                            M(this, b);
                            this.console = window.console;
                            this.level = c;
                            this.prefix = a;
                            this.buildLogFunctions()
                        }
                        N(b, [{
                            key: "shouldLog",
                            value: function(a) {
                                return a <= this.level
                            }
                        }, {
                            key: "setLoggingLevel",
                            value: function(a) {
                                this.level = "string" === typeof a ? Ha.indexOf(a.toLowerCase()) + 1 :
                                    a || 0;
                                this.buildLogFunctions()
                            }
                        }, {
                            key: "getLoggingLevel",
                            value: function() {
                                return this.level
                            }
                        }, {
                            key: "setPrefix",
                            value: function(a) {
                                this.prefix = a;
                                this.buildLogFunctions()
                            }
                        }, {
                            key: "getPrefix",
                            value: function() {
                                return this.prefix
                            }
                        }, {
                            key: "buildLogFunctions",
                            value: function() {
                                var a = this;
                                Ha.forEach(function(b, d) {
                                    b = Ha[d];
                                    a[b] = a.shouldLog(d + 1) ? a.getLogFn(b) : function() {}
                                })
                            }
                        }, {
                            key: "getLogFn",
                            value: function(a) {
                                return Function.prototype.bind.call(this.console.log, this.console, "[".concat(a.toUpperCase(), "]").concat(this.prefix ?
                                    "(" + this.prefix + ")" : "", ":"))
                            }
                        }]);
                        return b
                    }());
                (function(b) {
                    b.OnEventSend = "interactions:onEventSend";
                    b.OnBeforeEventSend = "interactions:onBeforeEventSend";
                    b.OnException = "interactions:onException";
                    b.OnPageMatchStatusUpdated = "interactions:onPageMatchStatusUpdated";
                    b.OnInit = "interactions:onInit";
                    b.OnInitSitemap = "interactions:onInitSitemap";
                    b.OnShutDown = "interactions:onShutDown";
                    b.OnSetAnonymousId = "interactions:onSetAnonymousId";
                    b.OnResetAnonymousId = "interactions:onResetAnonymousId";
                    b.OnClearPersistedIdentities =
                        "interactions:onClearPersistedIdentities";
                    b.OnClearCookie = "interactions:onClearCookie";
                    b.OnConsentRevoke = "interactions:onConsentRevoke";
                    b.OnBeforeInit = "interactions:onBeforeInit"
                })(e.CustomEvents || (e.CustomEvents = {}));
                var Ia = {
                        anonymousId: {
                            ids: {},
                            timeoutDays: 730
                        }
                    },
                    ca = ra.default ? ra.default : ra,
                    pb, L = window.location.hostname,
                    qb = function() {
                        return L
                    },
                    U = function(b) {
                        L = b;
                        rb()
                    },
                    rb = function() {
                        pb = ca("".concat(ca(L + "/").slice(0, 4))).slice(0, 4)
                    },
                    V = function() {
                        return "".concat("_sfid", "_").concat(pb)
                    },
                    sb, W = function(b,
                        a) {
                        return a = {
                            exports: {}
                        }, b(a, a.exports), a.exports
                    }(function(b, a) {
                        (function(a) {
                            b.exports = a()
                        })(function() {
                            function a() {
                                for (var a = 0, b = {}; a < arguments.length; a++) {
                                    var c = arguments[a],
                                        d;
                                    for (d in c) b[d] = c[d]
                                }
                                return b
                            }

                            function b(c) {
                                function d() {}

                                function f(b, f, h) {
                                    if ("undefined" !== typeof document) {
                                        h = a({
                                            path: "/"
                                        }, d.defaults, h);
                                        "number" === typeof h.expires && (h.expires = new Date(1 * new Date + 864E5 * h.expires));
                                        h.expires = h.expires ? h.expires.toUTCString() : "";
                                        try {
                                            var g = JSON.stringify(f);
                                            /^[\{\[]/.test(g) && (f = g)
                                        } catch ($c) {}
                                        f =
                                            c.write ? c.write(f, b) : encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
                                        b = encodeURIComponent(String(b)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape);
                                        g = "";
                                        for (var e in h) h[e] && (g += "; " + e, !0 !== h[e] && (g += "=" + h[e].split(";")[0]));
                                        return document.cookie = b + "=" + f + g
                                    }
                                }

                                function h(a, b) {
                                    if ("undefined" !== typeof document) {
                                        for (var d = {}, f = document.cookie ? document.cookie.split("; ") : [], h = 0; h < f.length; h++) {
                                            var g =
                                                f[h].split("="),
                                                e = g.slice(1).join("=");
                                            b || '"' !== e.charAt(0) || (e = e.slice(1, -1));
                                            try {
                                                var n = g[0].replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
                                                e = (c.read || c)(e, n) || e.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
                                                if (b) try {
                                                    e = JSON.parse(e)
                                                } catch (uc) {}
                                                d[n] = e;
                                                if (a === n) break
                                            } catch (uc) {}
                                        }
                                        return a ? d[a] : d
                                    }
                                }
                                d.set = f;
                                d.get = function(a) {
                                    return h(a, !1)
                                };
                                d.getJSON = function(a) {
                                    return h(a, !0)
                                };
                                d.remove = function(b, c) {
                                    f(b, "", a(c, {
                                        expires: -1
                                    }))
                                };
                                d.defaults = {};
                                d.withConverter = b;
                                return d
                            }
                            return b(function() {})
                        })
                    });
                document.addEventListener(e.CustomEvents.OnClearCookie,
                    function(b) {
                        var a = b.detail && b.detail.options || {};
                        a.domain && U(b.detail.options.domain);
                        tb(q({
                            domain: L
                        }, a))
                    });
                var Ja = function() {
                        return W.getJSON(V())
                    },
                    tb = function(b) {
                        W.remove(V(), b)
                    },
                    ub = function(b) {
                        Q.write(q(q({}, Ja()), {}, {
                            consents: b
                        }), Ia.anonymousId.timeoutDays)
                    },
                    Q = {
                        read: Ja,
                        write: function(b, a) {
                            sb ? W.set(V(), b, {
                                expires: a,
                                domain: L,
                                secure: !0
                            }) : W.set(V(), b, {
                                expires: a,
                                domain: L
                            });
                            W.get(V()) || r.warn("Web SDK cookie (_sfid) could not be set. This is possibly due to a restricted top level domain. See https://publicsuffix.org/learn/ for more information.")
                        },
                        remove: tb
                    },
                    vc = [/bot/i, /spider/i, /facebookexternalhit/i, /simplepie/i, /yahooseeker/i, /embedly/i, /quora link preview/i, /outbrain/i, /vkshare/i, /monit/i, /Pingability/i, /Monitoring/i, /WinHttpRequest/i, /Apache-HttpClient/i, /getprismatic.com/i, /python-requests/i, /Twurly/i, /yandex/i, /browserproxy/i, /crawler/i, /Qwantify/i, /Yahoo! Slurp/i, /pinterest/i, /Tumblr\/14.0.835.186/i, /Tumblr Agent 14.0/i],
                    wc = function(b) {
                        return vc.some(function(a) {
                            return a.test(b)
                        })
                    },
                    xc = navigator.vendor && -1 < navigator.vendor.indexOf("Apple") &&
                    navigator.userAgent && -1 == navigator.userAgent.indexOf("CriOS") && -1 == navigator.userAgent.indexOf("FxiOS"),
                    E = "";
                document.addEventListener(e.CustomEvents.OnResetAnonymousId, function(b) {
                    b = b.detail && b.detail.options || {};
                    b.domain && U(b.domain);
                    Q.remove(q({
                        domain: L
                    }, b));
                    vb()
                });
                document.addEventListener(e.CustomEvents.OnSetAnonymousId, function(b) {
                    b.detail && b.detail.newAnonymousId && (b = b.detail.newAnonymousId, Q.write(q(q({}, Ja()), {}, {
                        anonymousId: b
                    }), Ia.anonymousId.timeoutDays))
                });
                var wb = function() {
                        return E
                    },
                    ia = function(b) {
                        (E = b) ? document.dispatchEvent(new CustomEvent(e.CustomEvents.OnSetAnonymousId, {
                            detail: {
                                newAnonymousId: b
                            }
                        })): r.warn("Attempted to setAnonymousId but not parameter is undefined")
                    },
                    vb = function() {
                        xb() ? (E = Q.read().anonymousId, ia(E), r.debug("Loaded anonymous identity record from cookie: ".concat(JSON.stringify(E)))) : (ia(db()), r.debug("Created new anonymous identity record. anonymousId: ".concat(E)));
                        return E
                    },
                    xb = function() {
                        var b = Q.read();
                        return !!(b && "object" === x(b) && 0 < Object.keys(b).length)
                    },
                    z = document,
                    T = window,
                    Ba = z.documentElement,
                    K = z.createElement.bind(z),
                    yb = K("div"),
                    Ka = K("table"),
                    yc = K("tbody"),
                    zb = K("tr"),
                    La = Array.isArray,
                    F = Array.prototype,
                    wa = F.filter,
                    fb = F.indexOf,
                    zc = F.map,
                    hc = F.push,
                    Ab = F.slice,
                    za = F.some,
                    Ac = F.splice,
                    Bc = /^#[\w-]*$/,
                    dc = /^\.[\w-]*$/,
                    Cc = /<.+>/,
                    ec = /^\w+$/,
                    da = function() {
                        function b(a) {
                            var c = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : z;
                            M(this, b);
                            if (a) {
                                if (a instanceof da) return a;
                                var d = a;
                                if (u(a)) {
                                    if (d = c instanceof da ? c[0] : c, d = Bc.test(a) ? d.getElementById(a.slice(1)) :
                                        Cc.test(a) ? mb(a) : sa(a, d), !d) return
                                } else if (I(a)) return this.ready(a);
                                if (d.nodeType || d === T) d = [d];
                                this.length = d.length;
                                c = 0;
                                for (var f = this.length; c < f; c++) this[c] = d[c]
                            }
                        }
                        N(b, [{
                            key: "init",
                            value: function(a, c) {
                                return new b(a, c)
                            }
                        }]);
                        return b
                    }(),
                    l = da.prototype,
                    k = l.init;
                k.fn = k.prototype = l;
                l.length = 0;
                l.splice = Ac;
                "function" === typeof Symbol && (l[Symbol.iterator] = F[Symbol.iterator]);
                l.map = function(b) {
                    return k(zc.call(this, function(a, c) {
                        return b.call(a, c, a)
                    }))
                };
                l.slice = function(b, a) {
                    return k(Ab.call(this, b, a))
                };
                var fc =
                    /-([a-z])/g;
                k.camelCase = S;
                k.each = t;
                l.each = function(b) {
                    return t(this, b)
                };
                l.removeProp = function(b) {
                    return this.each(function(a, c) {
                        delete c[b]
                    })
                };
                k.extend = function(b) {
                    for (var a = arguments.length, c = Array(1 < a ? a - 1 : 0), d = 1; d < a; d++) c[d - 1] = arguments[d];
                    a = arguments.length;
                    for (c = 2 > a ? 0 : 1; c < a; c++)
                        for (var f in arguments[c]) b[f] = arguments[c][f];
                    return b
                };
                l.extend = function(b) {
                    return k.extend(l, b)
                };
                k.guid = 1;
                k.matches = ta;
                k.isWindow = ua;
                k.isFunction = I;
                k.isString = u;
                k.isNumeric = eb;
                k.isArray = La;
                l.prop = function(b, a) {
                    if (b) {
                        if (u(b)) return 2 >
                            arguments.length ? this[0] && this[0][b] : this.each(function(c, f) {
                                f[b] = a
                            });
                        for (var c in b) this.prop(c, b[c]);
                        return this
                    }
                };
                l.get = function(b) {
                    return void 0 === b ? Ab.call(this) : this[0 > b ? b + this.length : b]
                };
                l.eq = function(b) {
                    return k(this.get(b))
                };
                l.first = function() {
                    return this.eq(0)
                };
                l.last = function() {
                    return this.eq(-1)
                };
                l.filter = function(b) {
                    var a = va(b);
                    return k(wa.call(this, function(b, d) {
                        return a.call(b, d, b)
                    }))
                };
                var gc = /\S+/g;
                l.hasClass = function(b) {
                    return !!b && za.call(this, function(a) {
                        return a.classList.contains(b)
                    })
                };
                l.removeAttr = function(b) {
                    var a = ea(b);
                    return this.each(function(b, d) {
                        t(a, function(a, b) {
                            d.removeAttribute(b)
                        })
                    })
                };
                l.attr = function(b, a) {
                    if (b) {
                        if (u(b)) {
                            if (2 > arguments.length) {
                                if (!this[0]) return;
                                var c = this[0].getAttribute(b);
                                return null === c ? void 0 : c
                            }
                            return void 0 === a ? this : null === a ? this.removeAttr(b) : this.each(function(c, f) {
                                f.setAttribute(b, a)
                            })
                        }
                        for (c in b) this.attr(c, b[c]);
                        return this
                    }
                };
                l.toggleClass = function(b, a) {
                    var c = ea(b),
                        d = void 0 !== a;
                    return this.each(function(b, g) {
                        t(c, function(b, c) {
                            d ? a ? g.classList.add(c) :
                                g.classList.remove(c) : g.classList.toggle(c)
                        })
                    })
                };
                l.addClass = function(b) {
                    return this.toggleClass(b, !0)
                };
                l.removeClass = function(b) {
                    return arguments.length ? this.toggleClass(b, !1) : this.attr("class", "")
                };
                k.unique = A;
                l.add = function(b, a) {
                    return k(A(this.get().concat(k(b, a).get())))
                };
                var xa = /^--/,
                    ya = {},
                    jc = yb.style,
                    ic = ["webkit", "moz", "ms"];
                k.prefixedProp = gb;
                var kc = {
                    animationIterationCount: !0,
                    columnCount: !0,
                    flexGrow: !0,
                    flexShrink: !0,
                    fontWeight: !0,
                    lineHeight: !0,
                    opacity: !0,
                    order: !0,
                    orphans: !0,
                    widows: !0,
                    zIndex: !0
                };
                l.css = function(b, a) {
                    if (u(b)) {
                        var c = xa.test(b);
                        b = gb(b, c);
                        if (2 > arguments.length) return this[0] && J(this[0], b, c);
                        if (!b) return this;
                        a = hb(b, a, c);
                        return this.each(function(d, g) {
                            g && 1 === g.nodeType && (c ? g.style.setProperty(b, a) : g.style[b] = a)
                        })
                    }
                    for (var d in b) this.css(d, b[d]);
                    return this
                };
                l.data = function(b, a) {
                    if (!b) {
                        if (!this[0]) return;
                        var c = {},
                            d;
                        for (d in this[0].dataset) c[d] = ib(this[0], d);
                        return c
                    }
                    if (u(b)) return 2 > arguments.length ? this[0] && ib(this[0], b) : this.each(function(c, d) {
                        c = a;
                        try {
                            c = JSON.stringify(c)
                        } catch (n) {}
                        d.dataset[S(b)] =
                            c
                    });
                    for (c in b) this.data(c, b[c]);
                    return this
                };
                t([!0, !1], function(b, a) {
                    t(["Width", "Height"], function(b, d) {
                        var c = "".concat(a ? "outer" : "inner").concat(d);
                        l[c] = function(f) {
                            if (this[0]) return ua(this[0]) ? T[c] : this[0]["".concat(a ? "offset" : "client").concat(d)] + (f && a ? P(this[0], "margin".concat(b ? "Top" : "Left")) + P(this[0], "margin".concat(b ? "Bottom" : "Right")) : 0)
                        }
                    })
                });
                t(["width", "height"], function(b, a) {
                    l[a] = function(c) {
                        if (!this[0]) return void 0 === c ? void 0 : this;
                        if (!arguments.length) return ua(this[0]) ? this[0][S("outer-".concat(a))] :
                            this[0].getBoundingClientRect()[a] - jb(this[0], !b);
                        var d = parseInt(c, 10);
                        return this.each(function(c, e) {
                            e && 1 === e.nodeType && (c = J(e, "boxSizing"), e.style[a] = hb(a, d + ("border-box" === c ? jb(e, !b) : 0)))
                        })
                    }
                });
                var Ma = {};
                l.toggle = function(b) {
                    return this.each(function(a, c) {
                        if (void 0 === b ? "none" === J(c, "display") : b) {
                            if (c.style.display = c.___cd || "", "none" === J(c, "display")) {
                                a = c.style;
                                c = c.tagName;
                                if (Ma[c]) c = Ma[c];
                                else {
                                    var d = K(c);
                                    z.body.insertBefore(d, null);
                                    var f = J(d, "display");
                                    z.body.removeChild(d);
                                    c = Ma[c] = "none" !== f ? f :
                                        "block"
                                }
                                a.display = c
                            }
                        } else c.___cd = J(c, "display"), c.style.display = "none"
                    })
                };
                l.hide = function() {
                    return this.toggle(!1)
                };
                l.show = function() {
                    return this.toggle(!0)
                };
                var Na = {
                        focus: "focusin",
                        blur: "focusout"
                    },
                    Bb = {
                        mouseenter: "mouseover",
                        mouseleave: "mouseout"
                    },
                    Dc = /^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;
                l.off = function(b, a, c) {
                    var d = this;
                    if (void 0 === b) this.each(function(a, b) {
                        fa(b)
                    });
                    else if (u(b)) I(a) && (c = a, a = ""), t(ea(b), function(b, f) {
                        b = Aa(Bb[f] || Na[f] || f);
                        b = ba(b, 2);
                        var h = b[0],
                            e = b[1];
                        d.each(function(b,
                            d) {
                            fa(d, h, e, a, c)
                        })
                    });
                    else
                        for (var f in b) this.off(f, b[f]);
                    return this
                };
                l.on = function(b, a, c, d) {
                    var f = this;
                    if (!u(b)) {
                        for (var e in b) this.on(e, a, b[e]);
                        return this
                    }
                    I(a) && (c = a, a = "");
                    t(ea(b), function(b, h) {
                        b = Aa(Bb[h] || Na[h] || h);
                        b = ba(b, 2);
                        var e = b[0],
                            g = b[1];
                        f.each(function(b, f) {
                            b = function sc(b) {
                                if (!b.namespace || kb(g, b.namespace.split("."))) {
                                    var h = f;
                                    if (a) {
                                        for (var n = b.target; !ta(n, a);) {
                                            if (n === f) return;
                                            n = n.parentNode;
                                            if (!n) return
                                        }
                                        h = n;
                                        b.___cd = !0
                                    }
                                    b.___cd && Object.defineProperty(b, "currentTarget", {
                                        configurable: !0,
                                        get: function() {
                                            return h
                                        }
                                    });
                                    n = c.call(h, b, b.data);
                                    d && fa(f, e, g, a, sc);
                                    !1 === n && (b.preventDefault(), b.stopPropagation())
                                }
                            };
                            b.guid = c.guid = c.guid || k.guid++;
                            lc(f, e, g, a, b)
                        })
                    });
                    return this
                };
                l.one = function(b, a, c) {
                    return this.on(b, a, c, !0)
                };
                l.ready = function(b) {
                    "loading" !== z.readyState ? b(k) : z.addEventListener("DOMContentLoaded", function() {
                        b(k)
                    });
                    return this
                };
                l.trigger = function(b, a) {
                    if (u(b)) {
                        var c = Aa(b),
                            d = ba(c, 2);
                        c = d[0];
                        d = d[1];
                        var f = Dc.test(c) ? "MouseEvents" : "HTMLEvents";
                        b = z.createEvent(f);
                        b.initEvent(c, !0, !0);
                        b.namespace =
                            d.join(".")
                    }
                    b.data = a;
                    var e = b.type in Na;
                    return this.each(function(a, c) {
                        if (e && I(c[b.type])) c[b.type]();
                        else c.dispatchEvent(b)
                    })
                };
                var Ec = /%20/g,
                    Fc = /file|reset|submit|button|image/i,
                    Gc = /radio|checkbox/i;
                l.serialize = function() {
                    var b = "";
                    this.each(function(a, c) {
                        t(c.elements || [c], function(a, c) {
                            c.disabled || !c.name || "FIELDSET" === c.tagName || Fc.test(c.type) || Gc.test(c.type) && !c.checked || (a = lb(c), void 0 !== a && (a = La(a) ? a : [a], t(a, function(a, d) {
                                a = b;
                                d = "&".concat(encodeURIComponent(c.name), "=").concat(encodeURIComponent(d).replace(Ec,
                                    "+"));
                                b = a + d
                            })))
                        })
                    });
                    return b.slice(1)
                };
                l.val = function(b) {
                    return void 0 === b ? this[0] && lb(this[0]) : this.each(function(a, c) {
                        if ("SELECT" === c.tagName) {
                            var d = La(b) ? b : null === b ? [] : [b];
                            t(c.options, function(b, a) {
                                a.selected = 0 <= d.indexOf(a.value)
                            })
                        } else c.value = null === b ? "" : b
                    })
                };
                l.clone = function() {
                    return this.map(function(b, a) {
                        return a.cloneNode(!0)
                    })
                };
                l.detach = function() {
                    return this.each(function(b, a) {
                        a.parentNode && a.parentNode.removeChild(a)
                    })
                };
                var nc = /^\s*<(\w+)[^>]*>/,
                    mc = /^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,
                    nb = {
                        "*": yb,
                        tr: yc,
                        td: zb,
                        th: zb,
                        thead: Ka,
                        tbody: Ka,
                        tfoot: Ka
                    };
                k.parseHTML = mb;
                l.empty = function() {
                    return this.each(function(b, a) {
                        for (; a.firstChild;) a.removeChild(a.firstChild)
                    })
                };
                l.html = function(b) {
                    return void 0 === b ? this[0] && this[0].innerHTML : this.each(function(a, c) {
                        c.innerHTML = b
                    })
                };
                l.remove = function() {
                    return this.detach().off()
                };
                l.text = function(b) {
                    return void 0 === b ? this[0] ? this[0].textContent : "" : this.each(function(a, c) {
                        c.textContent = b
                    })
                };
                l.unwrap = function() {
                    this.parent().each(function(b, a) {
                        b = k(a);
                        b.replaceWith(b.children())
                    });
                    return this
                };
                l.offset = function() {
                    var b = this[0];
                    if (b) return b = b.getBoundingClientRect(), {
                        top: b.top + T.pageYOffset - Ba.clientTop,
                        left: b.left + T.pageXOffset - Ba.clientLeft
                    }
                };
                l.offsetParent = function() {
                    return k(this[0] && this[0].offsetParent)
                };
                l.position = function() {
                    var b = this[0];
                    if (b) return {
                        left: b.offsetLeft,
                        top: b.offsetTop
                    }
                };
                l.children = function(b) {
                    return O(k(A(B(this, function(b) {
                        return b.children
                    }))), b)
                };
                l.contents = function() {
                    return k(A(B(this, function(b) {
                        return "IFRAME" === b.tagName ? [b.contentDocument] : b.childNodes
                    })))
                };
                l.find = function(b) {
                    return k(A(B(this, function(a) {
                        return sa(b, a)
                    })))
                };
                var qc = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
                    pc = /^$|^module$|\/(java|ecma)script/i,
                    rc = ["type", "src", "nonce", "noModule"];
                l.after = function() {
                    return D(arguments, this, !1, !1, !1, !0, !0)
                };
                l.append = function() {
                    return D(arguments, this, !1, !1, !0)
                };
                l.appendTo = function(b) {
                    return D(arguments, this, !0, !1, !0)
                };
                l.before = function() {
                    return D(arguments, this, !1, !0)
                };
                l.insertAfter = function(b) {
                    return D(arguments, this, !0, !1, !1, !1, !1, !0)
                };
                l.insertBefore =
                    function(b) {
                        return D(arguments, this, !0, !0)
                    };
                l.prepend = function() {
                    return D(arguments, this, !1, !0, !0, !0, !0)
                };
                l.prependTo = function(b) {
                    return D(arguments, this, !0, !0, !0, !1, !1, !0)
                };
                l.replaceWith = function(b) {
                    return this.before(b).remove()
                };
                l.replaceAll = function(b) {
                    k(b).replaceWith(this);
                    return this
                };
                l.wrapAll = function(b) {
                    b = k(b);
                    for (var a = b[0]; a.children.length;) a = a.firstElementChild;
                    this.first().before(b);
                    return this.appendTo(a)
                };
                l.wrap = function(b) {
                    return this.each(function(a, c) {
                        var d = k(b)[0];
                        k(c).wrapAll(a ?
                            d.cloneNode(!0) : d)
                    })
                };
                l.wrapInner = function(b) {
                    return this.each(function(a, c) {
                        a = k(c);
                        c = a.contents();
                        c.length ? c.wrapAll(b) : a.append(b)
                    })
                };
                l.has = function(b) {
                    var a = u(b) ? function(a, d) {
                        return sa(b, d).length
                    } : function(a, d) {
                        return d.contains(b)
                    };
                    return this.filter(a)
                };
                l.is = function(b) {
                    var a = va(b);
                    return za.call(this, function(b, d) {
                        return a.call(b, d, b)
                    })
                };
                l.next = function(b, a) {
                    return O(k(A(B(this, "nextElementSibling", a))), b)
                };
                l.nextAll = function(b) {
                    return this.next(b, !0)
                };
                l.not = function(b) {
                    var a = va(b);
                    return this.filter(function(b,
                        d) {
                        return !a.call(d, b, d)
                    })
                };
                l.parent = function(b) {
                    return O(k(A(B(this, "parentNode"))), b)
                };
                l.index = function(b) {
                    var a = b ? k(b)[0] : this[0];
                    b = b ? this : k(a).parent().children();
                    return fb.call(b, a)
                };
                l.closest = function(b) {
                    var a = this.filter(b);
                    if (a.length) return a;
                    var c = this.parent();
                    return c.length ? c.closest(b) : a
                };
                l.parents = function(b) {
                    return O(k(A(B(this, "parentElement", !0))), b)
                };
                l.prev = function(b, a) {
                    return O(k(A(B(this, "previousElementSibling", a))), b)
                };
                l.prevAll = function(b) {
                    return this.prev(b, !0)
                };
                l.siblings =
                    function(b) {
                        return O(k(A(B(this, function(b) {
                            return k(b).parent().children().not(b)
                        }))), b)
                    };
                var ja = function() {
                        function b() {
                            M(this, b);
                            this.listeners = []
                        }
                        N(b, [{
                            key: "on",
                            value: function(b) {
                                var a = this;
                                (this.listeners = this.listeners || []).push(b);
                                return function() {
                                    a.listeners = a.listeners.filter(function(a) {
                                        return a !== b
                                    })
                                }
                            }
                        }, {
                            key: "once",
                            value: function(b) {
                                var a = this;
                                return this.on(function() {
                                    a.unbindAll();
                                    try {
                                        for (var c = arguments.length, f = Array(c), e = 0; e < c; e++) f[e] = arguments[e];
                                        b.apply(a, f)
                                    } catch (n) {
                                        r.error("Signal listener callback error: " +
                                            n)
                                    }
                                })
                            }
                        }, {
                            key: "emit",
                            value: function() {
                                for (var b = this, c = arguments.length, d = Array(c), f = 0; f < c; f++) d[f] = arguments[f];
                                0 !== this.listeners.length && this.listeners.forEach(function(a) {
                                    try {
                                        a.apply(b, d)
                                    } catch (n) {
                                        r.error("Signal listener callback error: " + n)
                                    }
                                })
                            }
                        }, {
                            key: "unbindAll",
                            value: function() {
                                this.listeners = []
                            }
                        }]);
                        return b
                    }(),
                    Hc = function(b) {
                        r.debug("Unbinding all signals for type: ", b);
                        Object.keys(b).forEach(function(a) {
                            b[a].unbindAll && b[a].unbindAll()
                        })
                    },
                    p = N(function a() {
                        M(this, a)
                    });
                p.onEventSend = new ja;
                p.onFireException = new ja;
                p.onPageMatchStatusUpdated = new ja;
                p.onInitSitemap = new ja;
                p.unbindAll = function() {
                    Hc(p)
                };
                var m = {
                        result: {
                            currentPage: null,
                            matchedConfig: null,
                            matchStatus: null
                        },
                        config: {
                            pageTypes: []
                        }
                    },
                    v = null,
                    Cb = function() {
                        return m.config
                    },
                    Db = function() {
                        return m.result
                    };
                (function(a) {
                    a.Pending = "pending";
                    a.Running = "running";
                    a.Selected = "selected";
                    a.Matched = "matched";
                    a.Rejected = "rejected"
                })(e.MatchStatus || (e.MatchStatus = {}));
                var Pa = function(a) {
                        return new Promise(function(c, d) {
                            var f = m.config.pageTypeDefault;
                            f && X({
                                pageName: f.name,
                                status: e.MatchStatus.Pending
                            });
                            f && !a.length ? (Oa(f), c(f)) : (Ic(a), a.map(function(e) {
                                Jc(e).then(function(g) {
                                    g ? (f && Eb(f), Oa(e), c(e)) : (Eb(e), Kc(a) || (f ? (Oa(f), c(f)) : d("No matching page found")))
                                }).catch(function(a) {
                                    "sitemap_reinit" !== a && p.onFireException.emit(Error("isMatch failed while evaluating the ".concat(e.name, " page config")), "Site-wide Javascript")
                                })
                            }))
                        })
                    },
                    Fb = function() {
                        m.result.matchStatus && (m.result.matchStatus.forEach(function(a) {
                                a.status === e.MatchStatus.Running && a._reject("sitemap_reinit")
                            }),
                            m.result.matchStatus = []);
                        p.onPageMatchStatusUpdated.emit(m.result.matchStatus)
                    },
                    Ic = function(a) {
                        a.forEach(function(a) {
                            X({
                                pageName: a.name,
                                status: e.MatchStatus.Pending
                            })
                        })
                    },
                    Oa = function(a) {
                        X({
                            pageName: a.name,
                            endTime: Date.now(),
                            status: m.result.matchStatus.find(function(a) {
                                return a.status === e.MatchStatus.Selected
                            }) ? e.MatchStatus.Matched : e.MatchStatus.Selected
                        })
                    },
                    Eb = function(a) {
                        X({
                            pageName: a.name,
                            status: e.MatchStatus.Rejected,
                            endTime: Date.now()
                        })
                    },
                    Kc = function(a) {
                        return m.result.matchStatus.filter(function(a) {
                            return a.status ===
                                e.MatchStatus.Rejected
                        }, 0).length < a.length
                    },
                    Jc = function(a) {
                        return new Promise(function(c, d) {
                            X({
                                pageName: a.name,
                                status: e.MatchStatus.Running,
                                startTime: Date.now(),
                                _reject: d
                            });
                            "function" === typeof a.isMatch ? (d = a.isMatch(), "object" === x(d) ? d.then(function(a) {
                                c(a)
                            }).catch(function() {}) : c(d)) : p.onFireException.emit(Error("isMatch failed while evaluating the ".concat(a.name, " page config. isMatch must be a function.")), "Site-wide Javascript")
                        })
                    },
                    X = function(a) {
                        m.result.matchStatus = [].concat(ab(m.result.matchStatus || []), [a]);
                        p.onPageMatchStatusUpdated.emit(m.result.matchStatus)
                    };
                (function(a) {
                    a.ViewCatalogObject = "View Catalog Object";
                    a.ViewCatalogObjectDetail = "View Catalog Object Detail";
                    a.QuickViewCatalogObject = "Quick View Catalog Object";
                    a.ShareCatalogObject = "Share Catalog Object";
                    a.ReviewCatalogObject = "Review Catalog Object";
                    a.CommentCatalogObject = "Comment Catalog Object";
                    a.FavoriteCatalogObject = "Favorite Catalog Object"
                })(e.CatalogObjectInteractionName || (e.CatalogObjectInteractionName = {}));
                (function(a) {
                    a.AddToCart =
                        "Add To Cart";
                    a.RemoveFromCart = "Remove From Cart";
                    a.ReplaceCart = "Replace Cart"
                })(e.CartInteractionName || (e.CartInteractionName = {}));
                (function(a) {
                    a.Purchase = "Purchase";
                    a.Preorder = "Preorder";
                    a.Cancel = "Cancel";
                    a.Ship = "Ship";
                    a.Deliver = "Deliver";
                    a.Return = "Return";
                    a.Exchange = "Exchange"
                })(e.OrderInteractionName || (e.OrderInteractionName = {}));
                (e.MetadataUpdateInteractionName || (e.MetadataUpdateInteractionName = {})).MetadataUpdate = "MetadataUpdate";
                (e.ConsentPurpose || (e.ConsentPurpose = {})).Tracking = "Tracking";
                (function(a) {
                    a.OptIn = "Opt In";
                    a.OptOut = "Opt Out"
                })(e.ConsentStatus || (e.ConsentStatus = {}));
                var Qa = function(a, c, d) {
                        p.onFireException.emit(a, c);
                        r.warn("sendException", {
                            event,
                            errorSection: c
                        })
                    },
                    C = [],
                    Gb = function() {
                        return C
                    },
                    Hb = function(a) {
                        return C.find(function(c) {
                            return a.purpose == c.consent.purpose
                        })
                    },
                    Ra = function(a) {
                        Ib(a, !0)
                    },
                    Ib = function(a, c) {
                        Array.isArray(a) ? a.forEach(function(a) {
                            Jb(a, c)
                        }) : Jb(a, c);
                        ub(C)
                    },
                    Jb = function(a, c) {
                        if (a && "object" == x(a) && a.purpose && a.provider && a.status) var d = !0;
                        else Qa(Error("Invalid consent, check that consent is a valid object and all fields are defined: ".concat(JSON.stringify(a))),
                            "Salesforce Web SDK"), d = !1;
                        if (d)
                            if (d = Hb(a)) {
                                var f = d.consent.status;
                                if (d.consent.status != a.status || d.consent.provider != a.provider) d.consent = a, d.lastUpdateTime = (new Date).toISOString();
                                c && f == e.ConsentStatus.OptIn && a.status == e.ConsentStatus.OptOut && Kb(d)
                            } else a = {
                                consent: a,
                                lastUpdateTime: (new Date).toISOString()
                            }, C.push(a), c && a.consent.status == e.ConsentStatus.OptOut && Kb(a)
                    },
                    Kb = function(a) {
                        document.dispatchEvent(new CustomEvent(e.CustomEvents.OnConsentRevoke, {
                            detail: {
                                revokedConsent: a
                            }
                        }))
                    },
                    Lc = function(a) {
                        var c =
                            (new Date).toISOString();
                        a.forEach(function(a) {
                            Hb(a).lastSentTime = c
                        });
                        ub(C)
                    },
                    Nc = function(a) {
                        Mc();
                        Promise.resolve(a).then(function(a) {
                            a && 0 < a.length && Ra(a)
                        })
                    },
                    Mc = function() {
                        var a = Q.read();
                        a && (C = a.consents || [])
                    },
                    Oc = function(a) {
                        return 0 <= a.findIndex(function(a) {
                            return a.status == e.ConsentStatus.OptIn
                        })
                    },
                    Lb = function() {
                        return Oc(C.map(function(a) {
                            return a.consent
                        }))
                    },
                    Mb = function(a) {
                        a.source = a.source || {};
                        var c = q({}, a.source || {}),
                            d;
                        (d = a.source.pageType) || (d = m.result.currentPage && m.result.currentPage.source ?
                            m.result.currentPage.source.pageType : void 0);
                        a.source = q(c, {}, {
                            pageType: d,
                            url: a.source.url || window.location.href,
                            urlReferrer: a.source.urlReferrer || document.referrer,
                            channel: a.source.channel || "Web"
                        });
                        a.user = q(q({}, a.user || {}), {}, {
                            anonymousId: E
                        });
                        Pc(a)
                    },
                    Pc = function(a) {
                        a.consents && Ib(a.consents, !1);
                        a.consents = C.filter(function(a) {
                            return !a.lastSentTime || new Date(a.lastUpdateTime) >= new Date(a.lastSentTime)
                        }).map(function(a) {
                            return a.consent
                        });
                        Lc(a.consents)
                    };
                document.addEventListener(e.CustomEvents.OnConsentRevoke,
                    function(a) {
                        a.detail && a.detail.revokedConsent && Qc({
                            interaction: {
                                name: e.MetadataUpdateInteractionName.MetadataUpdate
                            },
                            consents: [a.detail.revokedConsent.consent]
                        })
                    });
                var Sa = function(a) {
                        return Nb(a, Lb).catch(function(c) {
                            r.error(c.message);
                            p.onFireException.emit(c, "Site-wide JavaScript");
                            return a
                        })
                    },
                    Qc = function(a) {
                        Nb(a, function() {
                            return !0
                        }).then(function() {
                            return r.debug("Consent revoked")
                        }, function(a) {
                            return p.onFireException.emit(a, "Site-wide JavaScript")
                        })
                    },
                    Nb = function(a, c) {
                        a: {
                            var d = a,
                                f = m.result.matchedConfig;
                            try {
                                d = f && f.onActionEvent ? f.onActionEvent(d) : d;
                                if ("object" === x(d)) {
                                    a = d;
                                    break a
                                }
                                p.onFireException.emit(Error("onActionEvent failed for the ".concat(m.result.matchedConfig.name, " page config. Must return an object or null.")), "Site-wide Javascript")
                            } catch (g) {
                                p.onFireException.emit(Error("onActionEvent failed for the ".concat(m.result.matchedConfig.name, " page config. ").concat(g.message, ".")), "Site-wide Javascript")
                            }
                            a = void 0
                        }
                        a: {
                            d = a;f = m.config;
                            try {
                                d = f.global && f.global.onActionEvent ? f.global.onActionEvent(d) :
                                    d;
                                if ("object" === x(d)) {
                                    a = d;
                                    break a
                                }
                                p.onFireException.emit(Error("onActionEvent failed for the global page config. Must return an object or null."), "Site-wide Javascript")
                            } catch (g) {
                                p.onFireException.emit(Error("onActionEvent failed for the global page config. ".concat(g.message, ".")), "Site-wide Javascript")
                            }
                            a = void 0
                        }
                        Mb(a);c && !c() && r.debug("No opt-in consents provided. Event will still be dispatched.");r.debug("Sent event: ", a);p.onEventSend.emit(a);
                        return Promise.resolve(a)
                    },
                    Rc = function(a) {
                        return new Promise(function(c,
                            d) {
                            p.onInitSitemap.once(function() {
                                return d("sitemap_reinit")
                            });
                            var f = {
                                    name: null
                                },
                                e = [];
                            Object.keys(a.interaction).forEach(function(c) {
                                var d = Ob(a.interaction[c], c).then(function(a) {
                                    f[c] = a
                                });
                                e.push(d)
                            });
                            Promise.all(e).then(function() {
                                c(f)
                            }).catch(function(a) {
                                p.onFireException.emit(Error("Catalog object interaction config was rejected"), "Site-wide Javascript")
                            })
                        })
                    },
                    Ob = function(a, c) {
                        try {
                            return v = c, "object" === x(a) && !Array.isArray(a) && 0 < Object.keys(a).length ? Sc(a) : Promise.resolve(a).then(function(a) {
                                return "function" ===
                                    typeof a ? a() : a
                            })
                        } catch (d) {
                            p.onFireException.emit(Error("getValue for ".concat(c, " failed on ").concat(m.result.matchedConfig.name, " while evaluating custom function. ").concat(d.message, ".")), "Site-wide Javascript")
                        }
                    },
                    Sc = function(a) {
                        var c = {},
                            d = Object.keys(a),
                            f = {};
                        d.forEach(function(d) {
                            var f = Ob(a[d], d);
                            c[d] = f
                        });
                        return Promise.all(Object.values(c)).then(function(a) {
                            a.forEach(function(a, c) {
                                f[d[c]] = a
                            });
                            return f
                        })
                    },
                    ka, Qb = function() {
                        la();
                        Pb() && (ka = setInterval(function() {
                            var a = !1,
                                c = (new Date).getTime(),
                                d = m.result.matchedConfig.listeners.map(function(c) {
                                    if (c.selectorFound) return c;
                                    c = Ta(c);
                                    a = c.selectorFound || a;
                                    return c
                                });
                            a && Object.assign(m.result.matchedConfig, q(q({}, m.result.matchedConfig), {}, {
                                listeners: d
                            }));
                            (50 < (new Date).getTime() - c || !Pb()) && la()
                        }, 1E3))
                    },
                    Pb = function() {
                        if (m.result.matchedConfig) {
                            var a = m.result.matchedConfig.listeners;
                            return a ? a.filter(function(a) {
                                return !a.selectorFound
                            }).length : !1
                        }
                        return !1
                    },
                    la = function() {
                        "number" === typeof ka && clearInterval(ka);
                        ka = null
                    },
                    Ta = function(a) {
                        var c = k(a.selector),
                            d = q(q({}, a), {}, {
                                selectorFound: 0 < c.length
                            });
                        c.on(d.bind, function(a) {
                            try {
                                d.callback(a)
                            } catch (g) {
                                p.onFireException.emit(Error("Listener callback on ".concat(d.bind, " bound to ").concat(d.selector, " failed for the ").concat(m.result.matchedConfig.name, " page config. ").concat(g.message, ".")), "Site-wide Javascript")
                            }
                        });
                        return d
                    },
                    Rb = function() {
                        m.result && m.result.matchedConfig && m.result.matchedConfig.listeners && m.result.matchedConfig.listeners.forEach(function(a) {
                            k(a.selector).off(a.bind)
                        })
                    },
                    Sb = function(a) {
                        a.global =
                            a.global || {};
                        "object" != x(a.global) && p.onFireException.emit(Error("The global config has a type of ".concat(x(a.global), ", but it must be an object")), "Sitewide Javascript");
                        Object.assign(m.config, q({}, a));
                        p.onInitSitemap.emit(m.config)
                    },
                    Ua = function(a) {
                        Tc(a);
                        return !0
                    },
                    Vb = function(a) {
                        Pa(a.pageTypes).then(Tb).then(Ub).catch(function(a) {
                            "sitemap_reinit" !== a && p.onFireException.emit(Error("Unhandled exception: ".concat(a)), "Site-wide Javascript")
                        })
                    },
                    Ub = function(a) {
                        m.result.matchedConfig = q(q({}, a), {}, {
                            listeners: Uc(a)
                        });
                        m.result.currentPage = q(q({}, m.result.currentPage || {}), {}, {
                            source: {
                                pageType: a.name,
                                locale: Vc(a)
                            },
                            user: {
                                anonymousId: null
                            },
                            interaction: null,
                            pageView: !0
                        });
                        return a.interaction ? Rc(a).then(function(a) {
                            m.result.currentPage.interaction = a
                        }) : Promise.resolve()
                    },
                    Uc = function(a) {
                        return (a.listeners || []).map(function(a) {
                            return Ta(a)
                        })
                    },
                    Vc = function(a) {
                        return "function" === typeof a.locale ? a.locale() : a.locale
                    },
                    Wc = function c() {
                        for (var d = arguments.length, f = Array(d), e = 0; e < d; e++) f[e] = arguments[e];
                        return f.reduce(function(d,
                            f) {
                            Object.keys(f).forEach(function(e) {
                                var h = d[e],
                                    g = f[e];
                                Array.isArray(h) && Array.isArray(g) ? Object.assign(d, Z({}, e, h.concat.apply(h, ab(g)))) : h && "object" === x(h) && g && "object" === x(g) ? Object.assign(d, Z({}, e, c(h, g))) : Object.assign(d, Z({}, e, g))
                            });
                            return d
                        }, {})
                    },
                    Tb = function(c) {
                        var d = m.config.global || {},
                            f = d.onActionEvent;
                        delete d.onActionEvent;
                        c = Wc(d, c);
                        d.onActionEvent = f;
                        return c
                    },
                    Xc = function(c) {
                        c.forEach(function(c) {
                            if (!c.name || !c.isMatch) throw Error("All page configs must have a name and isMatch attribute defined");
                        })
                    },
                    Yc = function() {
                        var c = m.result;
                        Sa(m.result.currentPage);
                        m.result = c
                    },
                    Tc = function(c) {
                        Sb(c);
                        Rb();
                        Fb();
                        la();
                        m.result.currentPage = null;
                        try {
                            Xc(c.pageTypes);
                            var d = !0
                        } catch (f) {
                            p.onFireException.emit(Error(f), "Sitemap"), d = !1
                        }
                        d && Pa(c.pageTypes).then(Tb).then(Ub).then(Yc).then(Qb).catch(function(c) {
                            "sitemap_reinit" !== c && p.onFireException.emit(Error("Unhandled exception: ".concat(c)), "Site-wide Javascript")
                        })
                    },
                    w = function(c, d) {
                        if (c) try {
                            return c(d)
                        } catch (f) {
                            return p.onFireException.emit(Error("getValue for ".concat(v,
                                " failed on ").concat(m.result.matchedConfig.name, " inside of the custom transform function. ").concat(f)), "Site-wide Javascript"), null
                        }
                        return d
                    },
                    Va = function(c, d) {
                        d = d || window;
                        c = c.split(".");
                        c = qa(c);
                        var e;
                        try {
                            for (c.s(); !(e = c.n()).done;) {
                                var g = e.value;
                                var n = /(\w+)\[([0-9]+)\]/.exec(g);
                                if (d[g]) d = d[g];
                                else if (n) {
                                    if (d[n[1]] && (d = d[n[1]][parseInt(n[2], 10)], !d)) return null
                                } else return null
                            }
                        } catch (h) {
                            c.e(h)
                        } finally {
                            c.f()
                        }
                        return d
                    },
                    Wb = {
                        fromSelector: function(c, d) {
                            return function() {
                                if ("string" != typeof c) return p.onFireException.emit(Error("getValue for ".concat(v,
                                    " failed on ").concat(m.result.matchedConfig.name, ". Selector must be a string.")), "Site-wide Javascript"), null;
                                var e = k(c).first().text();
                                return e = w(d, e)
                            }
                        },
                        fromSelectorAttribute: function(c, d, e) {
                            return function() {
                                if ("string" != typeof c) return p.onFireException.emit(Error("getValue for ".concat(v, " failed on ").concat(m.result.matchedConfig.name, ". Selector must be a string.")), "Site-wide Javascript"), null;
                                if ("string" != typeof d) return p.onFireException.emit(Error("getValue for ".concat(v, " failed on ").concat(m.result.matchedConfig.name,
                                    ". Attribute must be a string.")), "Site-wide Javascript"), null;
                                var f = k(c).first().attr(d);
                                return f = w(e, f)
                            }
                        },
                        fromSelectorMultiple: function(c, d) {
                            return function() {
                                if ("string" != typeof c) return p.onFireException.emit(Error("getValue for ".concat(v, " failed on ").concat(m.result.matchedConfig.name, ". Selector must be a string.")), "Site-wide Javascript"), null;
                                var e = k(c).get().map(function(c) {
                                    return k(c).text()
                                });
                                return e = w(d, e)
                            }
                        },
                        fromSelectorAttributeMultiple: function(c, d, e) {
                            return function() {
                                if ("string" !=
                                    typeof c) return p.onFireException.emit(Error("getValue for ".concat(v, " failed on ").concat(m.result.matchedConfig.name, ". Selector must be a string.")), "Site-wide Javascript"), null;
                                if ("string" != typeof d) return p.onFireException.emit(Error("getValue for ".concat(v, " failed on ").concat(m.result.matchedConfig.name, ". Attribute must be a string.")), "Site-wide Javascript"), null;
                                var f = k(c).get().map(function(c) {
                                    return k(c).attr(d)
                                });
                                return f = w(e, f)
                            }
                        },
                        fromItemProp: function(c, d) {
                            return function() {
                                var e =
                                    k("[itemprop='" + c + "']").first().attr("content");
                                return e = w(d, e)
                            }
                        },
                        fromMeta: function(c, d) {
                            return function() {
                                var e = k("meta[name='" + c + "']").first().attr("content") || k("meta[property='" + c + "']").first().attr("content");
                                return e = w(d, e)
                            }
                        },
                        fromWindow: function(c, d) {
                            return function() {
                                var e = Va(c);
                                return e = w(d, e)
                            }
                        },
                        fromJsonLd: function(c, d) {
                            return function() {
                                var e = k("script[type='application/ld+json']").first().text();
                                try {
                                    var g = JSON.parse(e);
                                    if (c) {
                                        var n = Va(c, g);
                                        return w(d, n)
                                    }
                                    return w(d, g)
                                } catch (h) {
                                    p.onFireException.emit(Error("Parsing JSON-LD for ".concat(v,
                                        " failed on ").concat(m.result.matchedConfig.name, ". ").concat(h)), "Site-wide Javascript")
                                }
                            }
                        },
                        fromCanonical: function(c) {
                            return function() {
                                var d = k("link[rel=canonical]").attr("href");
                                return d = w(c, d)
                            }
                        },
                        fromHref: function(c) {
                            return function() {
                                var d = window.location.href;
                                return d = w(c, d)
                            }
                        },
                        buildCategoryId: function(c, d, e, g) {
                            return function() {
                                var f = Array.from(k(c));
                                d && (f = f.slice(d));
                                e && (f = f.slice(0, -1));
                                var h = [];
                                f.forEach(function(c) {
                                    (c = k(c).text().trim()) ? h.push(c): p.onFireException.emit(Error("buildCategoryId for ".concat(v,
                                        " failed on ").concat(m.result.matchedConfig.name, ". A category part is null.")), "Site-wide Javascript")
                                });
                                f = h.join("|");
                                return f = w(g, f)
                            }
                        },
                        buildCategoryIdAttribute: function(c, d, e, g, l) {
                            return function() {
                                var f = Array.from(k(c));
                                e && (f = f.slice(e));
                                g && (f = f.slice(0, -1));
                                var n = [];
                                f.forEach(function(c) {
                                    (c = k(c).attr(d).trim()) ? n.push(c): p.onFireException.emit(Error("buildCategoryId for ".concat(v, " failed on ").concat(m.result.matchedConfig.name, ". A category part is null.")), "Site-wide Javascript")
                                });
                                f = n.join("|");
                                return f = w(l, f)
                            }
                        }
                    },
                    y = k,
                    G = {},
                    Y = function(c) {
                        if (!c || "string" !== typeof c || "function" !== typeof G[c]) return null;
                        G[c]();
                        delete G[c]
                    },
                    Xb = {
                        resolveWhenTrue: {
                            bind: function(c) {
                                var d = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : Math.random().toString(36).slice(2),
                                    e = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 2E3,
                                    g = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : 100;
                                if ("function" === typeof c) return new Promise(function(f, h) {
                                    var l = 0,
                                        n = setInterval(function() {
                                            try {
                                                l += g;
                                                var n = c();
                                                n ? (Y(d),
                                                    f(n)) : l >= e && (Y(d), f(!1))
                                            } catch (na) {
                                                Y(d), h(na)
                                            }
                                        }, g);
                                    G[d] = function() {
                                        clearInterval(n)
                                    }
                                })
                            },
                            unbind: Y,
                            getBindings: function() {
                                return G
                            },
                            clearBindings: function() {
                                for (var c in G) G.hasOwnProperty(c) && "function" === typeof G[c] && Y(c)
                            }
                        }
                    };
                var Ga = "shutDown";
                var R = {
                        cookieDomain: null,
                        consents: null
                    },
                    Yb = function() {
                        function c(c, d, f) {
                            if (f)
                                for (c = Math.random().toString(36).slice(2); e[c];) c = Math.random().toString(36).slice(2);
                            else c = c || d;
                            return c
                        }

                        function d(d, f) {
                            return {
                                pageElementLoaded: function(h, g) {
                                    if ("string" !== typeof g ||
                                        "" === g) g = 0 < y("body").length ? "body" : "html";
                                    if ("string" !== typeof h || "" === h) throw Error("[pageElementLoaded] Invalid arguments");
                                    return new Promise(function(n) {
                                        var k = y(h);
                                        if (0 < k.length) n(k[0]);
                                        else {
                                            k = y(g)[0];
                                            if (!k) throw Error("pageElementLoaded cannot be bound. observerSelector ".concat(g, " is not on the page"));
                                            var m = new MutationObserver(function(c, e) {
                                                c = qa(c);
                                                var f;
                                                try {
                                                    for (c.s(); !(f = c.n()).done;) {
                                                        var g = f.value;
                                                        if (g.addedNodes && 0 < g.addedNodes.length) {
                                                            var k = qa(g.addedNodes),
                                                                m;
                                                            try {
                                                                for (k.s(); !(m = k.n()).done;) {
                                                                    var p =
                                                                        m.value,
                                                                        q = y(p).is(h) ? p : y(p).find(h).get(0);
                                                                    if (q) {
                                                                        d ? l.unbind(d) : e.disconnect();
                                                                        n(q);
                                                                        return
                                                                    }
                                                                }
                                                            } catch (Wa) {
                                                                k.e(Wa)
                                                            } finally {
                                                                k.f()
                                                            }
                                                        }
                                                    }
                                                } catch (Wa) {
                                                    c.e(Wa)
                                                } finally {
                                                    c.f()
                                                }
                                            });
                                            m.observe(k, {
                                                childList: !0,
                                                subtree: !0
                                            })
                                        }
                                        d = c(d, "<pageElementLoaded>" + h, f);
                                        e[d] = function() {
                                            m && m.disconnect()
                                        }
                                    })
                                },
                                pageElementVisible: function(h, g) {
                                    var k = g || 0;
                                    if ("string" !== typeof h || "" === h || "number" !== typeof k || 0 > k || 1 < k) throw Error("[pageElementVisible] Invalid arguments");
                                    return new Promise(function(g) {
                                        var n = y(h),
                                            m = new IntersectionObserver(function(c,
                                                e) {
                                                for (var f = 0; f < c.length; f++)
                                                    if (c[f].isIntersecting) {
                                                        d ? l.unbind(d) : e.disconnect();
                                                        g(c[f]);
                                                        break
                                                    }
                                            }, {
                                                threshold: k
                                            });
                                        m.observe(n[0]);
                                        d = c(d, "<pageElementVisible>" + h, f);
                                        e[d] = function() {
                                            m.disconnect()
                                        }
                                    })
                                },
                                pageExit: function(h) {
                                    h = h || 0;
                                    if ("number" !== typeof h || 0 > h) throw Error("[pageExit] Invalid arguments");
                                    return new Promise(function(g) {
                                        function k(c) {
                                            clearTimeout(p);
                                            10 >= c.pageY - window.pageYOffset && (p = 0 < h ? setTimeout(n.bind(this, c), h) : n.call(this, c))
                                        }

                                        function n(c) {
                                            d ? l.unbind(d) : m.off("mousemove", k);
                                            clearTimeout(p);
                                            g(c)
                                        }
                                        var m = y(document),
                                            p;
                                        m.on("mousemove", k);
                                        d = c(d, "<pageExit>", f);
                                        e[d] = function() {
                                            m.off("mousemove", k)
                                        }
                                    })
                                },
                                pageInactive: function(h) {
                                    function g(c, e) {
                                        var f = new Promise(function(f) {
                                            function h(c) {
                                                c = c || new Event("pageInactive");
                                                d && !e.isSubscribe ? l.unbind(d) : k.off("mousemove click scroll keyup keydown", g);
                                                f(c)
                                            }

                                            function g(d) {
                                                clearTimeout(n);
                                                n = setTimeout(h.bind(this, d), c)
                                            }
                                            var k = y(document),
                                                n;
                                            g();
                                            k.on("mousemove click scroll keyup keydown", g)
                                        });
                                        f.subscribe = function(h) {
                                            delete f.subscribe;
                                            e.isSubscribe = !0;
                                            f.then(function(f) {
                                                f.disconnect = function() {
                                                    d ? l.unbind(d) : e.isDisconnected = !0
                                                };
                                                h(f);
                                                !e.isDisconnected && g(c, e).subscribe(h)
                                            });
                                            return f
                                        };
                                        return f
                                    }
                                    if ("number" !== typeof h || 0 >= h) throw Error("[pageInactive] Invalid arguments");
                                    var k = {
                                        isDisconnected: !1,
                                        isSubscribe: !1
                                    };
                                    d = c(d, "<pageInactive>", f);
                                    e[d] = function() {
                                        k.isDisconnected = !0
                                    };
                                    return g(h, k)
                                },
                                pageScroll: function(h) {
                                    if ("number" !== typeof h || 0 > h || 1 < h) throw Error("[pageScroll] Invalid arguments");
                                    return new Promise(function(g) {
                                        function k(c) {
                                            window.scrollY /
                                                (document.documentElement.scrollHeight - window.innerHeight) >= h && (g(c), d ? l.unbind(d) : n.off("scroll", k))
                                        }
                                        var n = y(document);
                                        n.on("scroll", k);
                                        d = c(d, "<pageScroll>", f);
                                        e[d] = function() {
                                            n.off("scroll", k)
                                        }
                                    })
                                }
                            }
                        }
                        var e = {},
                            g = d(null, !0),
                            l = function() {
                                return {
                                    bind: function(c) {
                                        c && e[c] && (e[c](), delete e[c]);
                                        return d(c)
                                    },
                                    unbind: function(c) {
                                        if (!c || "string" !== typeof c || "function" !== typeof e[c]) return null;
                                        e[c]();
                                        delete e[c]
                                    },
                                    getBindings: function() {
                                        return e
                                    },
                                    clearBindings: function() {
                                        for (var c in e) e.hasOwnProperty(c) && (e[c](),
                                            delete e[c])
                                    }
                                }
                            }();
                        return Object.assign(g, l)
                    }(),
                    Zb = function() {
                        function c(d) {
                            var e = this;
                            M(this, c);
                            this.clearRateLimiter = function() {
                                e.sentEvents = []
                            };
                            this.eventWithinLimitTimeRange = function(c, d, e) {
                                return e - d.time < c
                            };
                            this.getTimeRangeMax = function() {
                                return e.eventRateLimiterConfig.globalTimeRange
                            };
                            this.removeOldEvents = function(c) {
                                for (var d = e.getTimeRangeMax(), f = e.sentEvents.length - 1; 0 <= f; f--)
                                    if (!e.eventWithinLimitTimeRange(d, e.sentEvents[f], c)) {
                                        e.sentEvents.splice(0, f + 1);
                                        break
                                    }
                            };
                            this.checkGlobalLimits =
                                function(c, d) {
                                    var f = q({}, e.eventRateLimiterConfig),
                                        g = f.globalLimit;
                                    f = f.globalTimeRange;
                                    return e.eventWithinLimitTimeRange(f, e.sentEvents[c], d) && (e.globalCounter++, e.globalCounter > g) ? (r.info("Event rate limit exceeded. More than ".concat(g, " events ") + "sent in ".concat(f, "ms.")), !0) : !1
                                };
                            this.checkLimits = function(c, d) {
                                return e.checkGlobalLimits(c, d.time)
                            };
                            this.sentEvents = [];
                            this.eventRateLimiterConfig = d
                        }
                        N(c, [{
                            key: "resetCounters",
                            value: function() {
                                this.globalCounter = 0
                            }
                        }, {
                            key: "isTriggerLimitExceeded",
                            value: function(c) {
                                var d = Date.now();
                                c = q(q({}, c), {}, {
                                    time: d
                                });
                                this.sentEvents.push(c);
                                this.removeOldEvents(d);
                                this.resetCounters();
                                for (d = this.sentEvents.length - 1; 0 <= d; d--)
                                    if (this.checkLimits(d, c)) return !0;
                                return !1
                            }
                        }]);
                        return c
                    }(),
                    Zc = function(c) {
                        function d(c) {
                            M(this, d);
                            var f = e.call(this, c);
                            f.getTimeRangeMax = function() {
                                return f.eventRateLimiterConfig.perInteractionTimeRange ? Math.max(f.eventRateLimiterConfig.globalTimeRange, f.eventRateLimiterConfig.perInteractionTimeRange) : f.eventRateLimiterConfig.globalTimeRange
                            };
                            f.checkInteractionLimits = function(c, d, e) {
                                return f.eventRateLimiterConfig.perInteractionLimit && f.eventRateLimiterConfig.perInteractionTimeRange && f.eventWithinLimitTimeRange(f.eventRateLimiterConfig.perInteractionTimeRange, f.sentEvents[c], d) && f.sentEvents[c].name === e && (f.perEventCounter++, f.perEventCounter > f.eventRateLimiterConfig.perInteractionLimit) ? (r.info("Event rate limit exceeded. More than ".concat(f.eventRateLimiterConfig.perInteractionLimit, " events ") + "with interaction name of ".concat(e,
                                    " sent in ").concat(f.eventRateLimiterConfig.perInteractionTimeRange, "ms.")), !0) : !1
                            };
                            f.checkLimits = function(c, d) {
                                return f.checkGlobalLimits(c, d.time) || f.checkInteractionLimits(c, d.time, d.name)
                            };
                            return f
                        }
                        ac(d, c);
                        var e = cc(d);
                        N(d, [{
                            key: "resetCounters",
                            value: function() {
                                aa(H(d.prototype), "resetCounters", this).call(this);
                                this.perEventCounter = 0
                            }
                        }, {
                            key: "isTriggerLimitExceeded",
                            value: function(c) {
                                return aa(H(d.prototype), "isTriggerLimitExceeded", this).call(this, c)
                            }
                        }]);
                        return d
                    }(Zb),
                    Ca, Da, Ea, Fa, Xa = function() {
                        var c =
                            0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
                        if (!(wc(window.navigator.userAgent || "") ? ha("You are a robot.") : "prerender" === document.visibilityState && xc ? ha("Page is pre-rendered and loaded in Safari.") : 1)) return Promise.reject();
                        "initialized" == Ga && ha("reinitializing Web SDK");
                        c.cookieDomain && U(c.cookieDomain);
                        rb();
                        R = q(q({}, R), c);
                        document.dispatchEvent(new CustomEvent(e.CustomEvents.OnBeforeInit, {
                            detail: {
                                sdkConfig: R
                            }
                        }));
                        tc();
                        vb();
                        Ga = "initialized";
                        document.dispatchEvent(new CustomEvent(e.CustomEvents.OnInit, {
                            detail: {
                                sdkConfig: R
                            }
                        }));
                        Nc(R.consents);
                        return Promise.resolve()
                    },
                    $b = function() {
                        var c = C.map(function(c) {
                            return c.consent
                        });
                        Xa(q(q({}, R), {}, {
                            consents: c
                        })).then(function() {
                            Ua(m.config)
                        })
                    };
                window.SalesforceInteractions = {
                    init: Xa,
                    reinit: $b,
                    sendEvent: Sa,
                    sendException: Qa,
                    getAnonymousId: wb,
                    setAnonymousId: ia,
                    getCookieDomain: qb,
                    setCookieDomain: U,
                    updateConsents: Ra,
                    getConsents: Gb,
                    ConsentStatus: e.ConsentStatus,
                    log: r,
                    getLoggingLevel: cb,
                    setLoggingLevel: bb,
                    initSitemap: Ua,
                    getSitemapConfig: Cb,
                    getSitemapResult: Db,
                    CatalogObjectInteractionName: e.CatalogObjectInteractionName,
                    CartInteractionName: e.CartInteractionName,
                    OrderInteractionName: e.OrderInteractionName,
                    listener: ob,
                    build: Vb,
                    cashDom: y,
                    resolvers: Wb,
                    util: Xb,
                    DisplayUtils: Yb,
                    CustomEvents: e.CustomEvents
                };
                e.DEFAULT_CHANNEL = "Web";
                e.DisplayUtils = Yb;
                e.EventRateLimiter = Zb;
                e.InteractionEventRateLimiter = Zc;
                e.SITEMAP_REINIT = "sitemap_reinit";
                e.STORAGE_INFO = Ia;
                e.attemptToBindListener = Ta;
                e.build = Vb;
                e.cancelListenerSearch = la;
                e.cashDom = y;
                e.clearPersistedIdentities = function() {
                    document.dispatchEvent(new CustomEvent(e.CustomEvents.OnClearPersistedIdentities))
                };
                e.currentConsentOptInExists = Lb;
                e.generateUuid = db;
                e.getAnonymousId = wb;
                e.getConsents = Gb;
                e.getCookieDomain = qb;
                e.getCurrentSitemapKey = function() {
                    return v
                };
                e.getLoggingLevel = cb;
                e.getSitemapConfig = Cb;
                e.getSitemapResult = Db;
                e.getState = function() {
                    return m
                };
                e.getValueFromNestedObject = Va;
                e.identityCookieExists = xb;
                e.init = Xa;
                e.initSitemap = Ua;
                e.listener = ob;
                e.log = r;
                e.matchPageConfig = Pa;
                e.prepareEvent = Mb;
                e.reinit = $b;
                e.removeCurrentListeners = Rb;
                e.removeOutstandingPageMatchResolvers = Fb;
                e.resetAnonymousId = function() {
                    document.dispatchEvent(new CustomEvent(e.CustomEvents.OnResetAnonymousId))
                };
                e.resolvers = Wb;
                e.sendEvent = Sa;
                e.sendException = Qa;
                e.setAnonymousId = ia;
                e.setConfig = Sb;
                e.setCookieDomain = U;
                e.setCurrentSitemapKey = function(c) {
                    v = c
                };
                e.setLoggingLevel = bb;
                e.setSecureAttributeOnCookie = function(c) {
                    sb = c
                };
                e.sha1 = ca;
                e.shutDown = ha;
                e.startListenerSearch = Qb;
                e.updateConsents = Ra;
                e.util = Xb;
                return e
            }({});


            // CDP EVENT RECEIVER
            (function() {
                var cdpEventReceiver = function(u) {
                    "use strict";
                    /*! *****************************************************************************
                        Copyright (c) Microsoft Corporation. All rights reserved.
                        Licensed under the Apache License, Version 2.0 (the "License"); you may not use
                        this file except in compliance with the License. You may obtain a copy of the
                        License at http://www.apache.org/licenses/LICENSE-2.0

                        THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
                        KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
                        WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
                        MERCHANTABLITY OR NON-INFRINGEMENT.

                        See the Apache Version 2.0 License for specific language governing permissions
                        and limitations under the License.
                        ***************************************************************************** */
                    function O(e, n, t, r) {
                        return new(t || (t = Promise))(function(o, a) {
                            function c(s) {
                                try {
                                    l(r.next(s))
                                } catch (d) {
                                    a(d)
                                }
                            }

                            function i(s) {
                                try {
                                    l(r.throw(s))
                                } catch (d) {
                                    a(d)
                                }
                            }

                            function l(s) {
                                s.done ? o(s.value) : new t(function(d) {
                                    d(s.value)
                                }).then(c, i)
                            }
                            l((r = r.apply(e, n || [])).next())
                        })
                    }

                    function I(e, ...n) {
                        n.forEach(t => {
                            if (e == null || Object.prototype.hasOwnProperty.call(e, t) === !1 || e[t] == null) throw new Error(`missing required option "${t.toString()}"`)
                        })
                    }

                    function ae(e, n = "") {
                        const t = "https://";
                        try {
                            if (e = e.trim(), /^.+:\/\/.*/.test(e) || (e = t + e), e = t + new URL(e).hostname, !e.endsWith(".salesforce.com")) throw new TypeError("Invalid URL: " + e)
                        } catch {
                            if (e = "", n !== "") throw new Error(n)
                        }
                        return e
                    }

                    function $(e, n) {
                        const t = new CustomEvent(e, {
                            detail: n
                        });
                        document.dispatchEvent(t)
                    }

                    function x(e) {
                        return O(this, void 0, void 0, function*() {
                            return yield new Promise((n, t) => {
                                const r = new XMLHttpRequest;
                                r.onload = () => n(r), r.onerror = () => n(r), r.abort = () => t(new Error("Request aborted")), e(r)
                            })
                        })
                    }

                    function ce(e) {
                        return O(this, void 0, void 0, function*() {
                            yield new Promise(n => {
                                setTimeout(n, e)
                            })
                        })
                    }

                    function P(e) {
                        return e ? .status === 200 || e ? .status === 204
                    }

                    function y() {
                        return window.SalesforceInteractions
                    }

                    function _() {
                        const e = y().getAnonymousId();
                        if (e == null || e === "") throw new Error("sessionId is missing");
                        return e
                    }

                    function q(e) {
                        var n;
                        return (n = e.deviceId) !== null && n !== void 0 ? n : _()
                    }
                    const ie = 5,
                        se = 5;

                    function ue(e) {
                        var n, t;
                        const r = e.tenantSpecificEndpoint + "/web/v2/authentication",
                            o = (n = e.authenticator.maxAttempts) !== null && n !== void 0 ? n : se,
                            a = (t = e.authenticator.retryDelay) !== null && t !== void 0 ? t : ie;
                        let c = !1,
                            i = !1;
                        return () => O(this, void 0, void 0, function*() {
                            if (c) return !0;
                            if (i) return !1;
                            const l = () => O(this, void 0, void 0, function*() {
                                const s = yield x(d => {
                                    const b = btoa(JSON.stringify({
                                        appSourceId: e.authenticator.appSourceId,
                                        deviceId: q(e)
                                    }));
                                    d.withCredentials = !0, d.open("POST", r), d.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), d.send(`auth=${b}`)
                                });
                                if (s.status === 401) throw i = !0, new Error("Unauthorized");
                                return P(s)
                            });
                            for (let s = o; s > 0; s--) try {
                                if (c = yield l(), c) return !0
                            } finally {
                                !(c || i) && s > 1 && (yield ce(a))
                            }
                            throw i = !0, new Error("No more authentication retries")
                        })
                    }

                    function le(e) {
                        return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, (n, t) => {
                            const r = t.toString();
                            return String.fromCharCode(parseInt(`0x${r}`, 16))
                        }))
                    }
                    var j;
                    (function(e) {
                        e.OnBeforeEventSend = "dataCloud:onBeforeEventSend", e.OnEventSend = "dataCloud:onEventSend"
                    })(j || (j = {})), window.SalesforceInteractions != null && (window.SalesforceInteractions.DataCloud = {
                        CustomEvents: j
                    });
                    const de = "application/json, text/javascript, */*; q=0.01";

                    function fe(e, n, t) {
                        return O(this, void 0, void 0, function*() {
                            const r = {
                                actionEvent: e,
                                events: t
                            };
                            if (document.dispatchEvent(new CustomEvent(j.OnBeforeEventSend, {
                                    detail: r,
                                    cancelable: !0
                                }))) {
                                const o = n.tenantSpecificEndpoint + "/web/events/" + n.authenticator.appSourceId,
                                    a = JSON.stringify({
                                        events: t
                                    }, pe);
                                $(j.OnEventSend, JSON.parse(a)), yield ve(o, a)
                            }
                        })
                    }

                    function ve(e, n) {
                        return O(this, void 0, void 0, function*() {
                            const t = yield x(r => {
                                const o = encodeURIComponent(le(n));
                                r.withCredentials = !0, r.open("POST", e, !0), r.setRequestHeader("Accept", de), r.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), r.send(`event=${o}`)
                            });
                            if (!P(t)) {
                                const r = new Error(`Response was not OK: ${t.responseText}`);
                                throw Object.assign(r, {
                                    status: t.status,
                                    statusText: t.statusText
                                }), r
                            }
                        })
                    }

                    function pe(e, n) {
                        return typeof n == "boolean" ? n ? 1 : 0 : n
                    }
                    let T;
                    const ge = new Uint8Array(16);

                    function me() {
                        if (!T && (T = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto), !T)) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
                        return T(ge)
                    }
                    var he = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;

                    function Ie(e) {
                        return typeof e == "string" && he.test(e)
                    }
                    const f = [];
                    for (let e = 0; e < 256; ++e) f.push((e + 256).toString(16).slice(1));

                    function M(e, n = 0) {
                        return f[e[n + 0]] + f[e[n + 1]] + f[e[n + 2]] + f[e[n + 3]] + "-" + f[e[n + 4]] + f[e[n + 5]] + "-" + f[e[n + 6]] + f[e[n + 7]] + "-" + f[e[n + 8]] + f[e[n + 9]] + "-" + f[e[n + 10]] + f[e[n + 11]] + f[e[n + 12]] + f[e[n + 13]] + f[e[n + 14]] + f[e[n + 15]]
                    }

                    function Oe(e) {
                        if (!Ie(e)) throw TypeError("Invalid UUID");
                        let n;
                        const t = new Uint8Array(16);
                        return t[0] = (n = parseInt(e.slice(0, 8), 16)) >>> 24, t[1] = n >>> 16 & 255, t[2] = n >>> 8 & 255, t[3] = n & 255, t[4] = (n = parseInt(e.slice(9, 13), 16)) >>> 8, t[5] = n & 255, t[6] = (n = parseInt(e.slice(14, 18), 16)) >>> 8, t[7] = n & 255, t[8] = (n = parseInt(e.slice(19, 23), 16)) >>> 8, t[9] = n & 255, t[10] = (n = parseInt(e.slice(24, 36), 16)) / 1099511627776 & 255, t[11] = n / 4294967296 & 255, t[12] = n >>> 24 & 255, t[13] = n >>> 16 & 255, t[14] = n >>> 8 & 255, t[15] = n & 255, t
                    }

                    function ye(e) {
                        e = unescape(encodeURIComponent(e));
                        const n = [];
                        for (let t = 0; t < e.length; ++t) n.push(e.charCodeAt(t));
                        return n
                    }
                    const Ce = "6ba7b810-9dad-11d1-80b4-00c04fd430c8",
                        Ee = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";

                    function F(e, n, t) {
                        function r(o, a, c, i) {
                            var l;
                            if (typeof o == "string" && (o = ye(o)), typeof a == "string" && (a = Oe(a)), ((l = a) === null || l === void 0 ? void 0 : l.length) !== 16) throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
                            let s = new Uint8Array(16 + o.length);
                            if (s.set(a), s.set(o, a.length), s = t(s), s[6] = s[6] & 15 | n, s[8] = s[8] & 63 | 128, c) {
                                i = i || 0;
                                for (let d = 0; d < 16; ++d) c[i + d] = s[d];
                                return c
                            }
                            return M(s)
                        }
                        try {
                            r.name = e
                        } catch {}
                        return r.DNS = Ce, r.URL = Ee, r
                    }

                    function we(e) {
                        if (typeof e == "string") {
                            const n = unescape(encodeURIComponent(e));
                            e = new Uint8Array(n.length);
                            for (let t = 0; t < n.length; ++t) e[t] = n.charCodeAt(t)
                        }
                        return be(je(Se(e), e.length * 8))
                    }

                    function be(e) {
                        const n = [],
                            t = e.length * 32,
                            r = "0123456789abcdef";
                        for (let o = 0; o < t; o += 8) {
                            const a = e[o >> 5] >>> o % 32 & 255,
                                c = parseInt(r.charAt(a >>> 4 & 15) + r.charAt(a & 15), 16);
                            n.push(c)
                        }
                        return n
                    }

                    function V(e) {
                        return (e + 64 >>> 9 << 4) + 14 + 1
                    }

                    function je(e, n) {
                        e[n >> 5] |= 128 << n % 32, e[V(n) - 1] = n;
                        let t = 1732584193,
                            r = -271733879,
                            o = -1732584194,
                            a = 271733878;
                        for (let c = 0; c < e.length; c += 16) {
                            const i = t,
                                l = r,
                                s = o,
                                d = a;
                            t = p(t, r, o, a, e[c], 7, -680876936), a = p(a, t, r, o, e[c + 1], 12, -389564586), o = p(o, a, t, r, e[c + 2], 17, 606105819), r = p(r, o, a, t, e[c + 3], 22, -1044525330), t = p(t, r, o, a, e[c + 4], 7, -176418897), a = p(a, t, r, o, e[c + 5], 12, 1200080426), o = p(o, a, t, r, e[c + 6], 17, -1473231341), r = p(r, o, a, t, e[c + 7], 22, -45705983), t = p(t, r, o, a, e[c + 8], 7, 1770035416), a = p(a, t, r, o, e[c + 9], 12, -1958414417), o = p(o, a, t, r, e[c + 10], 17, -42063), r = p(r, o, a, t, e[c + 11], 22, -1990404162), t = p(t, r, o, a, e[c + 12], 7, 1804603682), a = p(a, t, r, o, e[c + 13], 12, -40341101), o = p(o, a, t, r, e[c + 14], 17, -1502002290), r = p(r, o, a, t, e[c + 15], 22, 1236535329), t = g(t, r, o, a, e[c + 1], 5, -165796510), a = g(a, t, r, o, e[c + 6], 9, -1069501632), o = g(o, a, t, r, e[c + 11], 14, 643717713), r = g(r, o, a, t, e[c], 20, -373897302), t = g(t, r, o, a, e[c + 5], 5, -701558691), a = g(a, t, r, o, e[c + 10], 9, 38016083), o = g(o, a, t, r, e[c + 15], 14, -660478335), r = g(r, o, a, t, e[c + 4], 20, -405537848), t = g(t, r, o, a, e[c + 9], 5, 568446438), a = g(a, t, r, o, e[c + 14], 9, -1019803690), o = g(o, a, t, r, e[c + 3], 14, -187363961), r = g(r, o, a, t, e[c + 8], 20, 1163531501), t = g(t, r, o, a, e[c + 13], 5, -1444681467), a = g(a, t, r, o, e[c + 2], 9, -51403784), o = g(o, a, t, r, e[c + 7], 14, 1735328473), r = g(r, o, a, t, e[c + 12], 20, -1926607734), t = m(t, r, o, a, e[c + 5], 4, -378558), a = m(a, t, r, o, e[c + 8], 11, -2022574463), o = m(o, a, t, r, e[c + 11], 16, 1839030562), r = m(r, o, a, t, e[c + 14], 23, -35309556), t = m(t, r, o, a, e[c + 1], 4, -1530992060), a = m(a, t, r, o, e[c + 4], 11, 1272893353), o = m(o, a, t, r, e[c + 7], 16, -155497632), r = m(r, o, a, t, e[c + 10], 23, -1094730640), t = m(t, r, o, a, e[c + 13], 4, 681279174), a = m(a, t, r, o, e[c], 11, -358537222), o = m(o, a, t, r, e[c + 3], 16, -722521979), r = m(r, o, a, t, e[c + 6], 23, 76029189), t = m(t, r, o, a, e[c + 9], 4, -640364487), a = m(a, t, r, o, e[c + 12], 11, -421815835), o = m(o, a, t, r, e[c + 15], 16, 530742520), r = m(r, o, a, t, e[c + 2], 23, -995338651), t = h(t, r, o, a, e[c], 6, -198630844), a = h(a, t, r, o, e[c + 7], 10, 1126891415), o = h(o, a, t, r, e[c + 14], 15, -1416354905), r = h(r, o, a, t, e[c + 5], 21, -57434055), t = h(t, r, o, a, e[c + 12], 6, 1700485571), a = h(a, t, r, o, e[c + 3], 10, -1894986606), o = h(o, a, t, r, e[c + 10], 15, -1051523), r = h(r, o, a, t, e[c + 1], 21, -2054922799), t = h(t, r, o, a, e[c + 8], 6, 1873313359), a = h(a, t, r, o, e[c + 15], 10, -30611744), o = h(o, a, t, r, e[c + 6], 15, -1560198380), r = h(r, o, a, t, e[c + 13], 21, 1309151649), t = h(t, r, o, a, e[c + 4], 6, -145523070), a = h(a, t, r, o, e[c + 11], 10, -1120210379), o = h(o, a, t, r, e[c + 2], 15, 718787259), r = h(r, o, a, t, e[c + 9], 21, -343485551), t = C(t, i), r = C(r, l), o = C(o, s), a = C(a, d)
                        }
                        return [t, r, o, a]
                    }

                    function Se(e) {
                        if (e.length === 0) return [];
                        const n = e.length * 8,
                            t = new Uint32Array(V(n));
                        for (let r = 0; r < n; r += 8) t[r >> 5] |= (e[r / 8] & 255) << r % 32;
                        return t
                    }

                    function C(e, n) {
                        const t = (e & 65535) + (n & 65535);
                        return (e >> 16) + (n >> 16) + (t >> 16) << 16 | t & 65535
                    }

                    function Te(e, n) {
                        return e << n | e >>> 32 - n
                    }

                    function A(e, n, t, r, o, a) {
                        return C(Te(C(C(n, e), C(r, a)), o), t)
                    }

                    function p(e, n, t, r, o, a, c) {
                        return A(n & t | ~n & r, e, n, o, a, c)
                    }

                    function g(e, n, t, r, o, a, c) {
                        return A(n & r | t & ~r, e, n, o, a, c)
                    }

                    function m(e, n, t, r, o, a, c) {
                        return A(n ^ t ^ r, e, n, o, a, c)
                    }

                    function h(e, n, t, r, o, a, c) {
                        return A(t ^ (n | ~r), e, n, o, a, c)
                    }
                    F("v3", 48, we);
                    var H = {
                        randomUUID: typeof crypto < "u" && crypto.randomUUID && crypto.randomUUID.bind(crypto)
                    };

                    function k(e, n, t) {
                        if (H.randomUUID && !n && !e) return H.randomUUID();
                        e = e || {};
                        const r = e.random || (e.rng || me)();
                        if (r[6] = r[6] & 15 | 64, r[8] = r[8] & 63 | 128, n) {
                            t = t || 0;
                            for (let o = 0; o < 16; ++o) n[t + o] = r[o];
                            return n
                        }
                        return M(r)
                    }

                    function Ae(e, n, t, r) {
                        switch (e) {
                            case 0:
                                return n & t ^ ~n & r;
                            case 1:
                                return n ^ t ^ r;
                            case 2:
                                return n & t ^ n & r ^ t & r;
                            case 3:
                                return n ^ t ^ r
                        }
                    }

                    function R(e, n) {
                        return e << n | e >>> 32 - n
                    }

                    function Re(e) {
                        const n = [1518500249, 1859775393, 2400959708, 3395469782],
                            t = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
                        if (typeof e == "string") {
                            const c = unescape(encodeURIComponent(e));
                            e = [];
                            for (let i = 0; i < c.length; ++i) e.push(c.charCodeAt(i))
                        } else Array.isArray(e) || (e = Array.prototype.slice.call(e));
                        e.push(128);
                        const r = e.length / 4 + 2,
                            o = Math.ceil(r / 16),
                            a = new Array(o);
                        for (let c = 0; c < o; ++c) {
                            const i = new Uint32Array(16);
                            for (let l = 0; l < 16; ++l) i[l] = e[c * 64 + l * 4] << 24 | e[c * 64 + l * 4 + 1] << 16 | e[c * 64 + l * 4 + 2] << 8 | e[c * 64 + l * 4 + 3];
                            a[c] = i
                        }
                        a[o - 1][14] = (e.length - 1) * 8 / Math.pow(2, 32), a[o - 1][14] = Math.floor(a[o - 1][14]), a[o - 1][15] = (e.length - 1) * 8 & 4294967295;
                        for (let c = 0; c < o; ++c) {
                            const i = new Uint32Array(80);
                            for (let v = 0; v < 16; ++v) i[v] = a[c][v];
                            for (let v = 16; v < 80; ++v) i[v] = R(i[v - 3] ^ i[v - 8] ^ i[v - 14] ^ i[v - 16], 1);
                            let l = t[0],
                                s = t[1],
                                d = t[2],
                                b = t[3],
                                D = t[4];
                            for (let v = 0; v < 80; ++v) {
                                const oe = Math.floor(v / 20),
                                    Ct = R(l, 5) + Ae(oe, s, d, b) + D + n[oe] + i[v] >>> 0;
                                D = b, b = d, d = R(s, 30) >>> 0, s = l, l = Ct
                            }
                            t[0] = t[0] + l >>> 0, t[1] = t[1] + s >>> 0, t[2] = t[2] + d >>> 0, t[3] = t[3] + b >>> 0, t[4] = t[4] + D >>> 0
                        }
                        return [t[0] >> 24 & 255, t[0] >> 16 & 255, t[0] >> 8 & 255, t[0] & 255, t[1] >> 24 & 255, t[1] >> 16 & 255, t[1] >> 8 & 255, t[1] & 255, t[2] >> 24 & 255, t[2] >> 16 & 255, t[2] >> 8 & 255, t[2] & 255, t[3] >> 24 & 255, t[3] >> 16 & 255, t[3] >> 8 & 255, t[3] & 255, t[4] >> 24 & 255, t[4] >> 16 & 255, t[4] >> 8 & 255, t[4] & 255]
                    }
                    F("v5", 80, Re);

                    function Ue(e) {
                        return (typeof e ? .time == "number" ? new Date(e.time) : new Date).toISOString()
                    }

                    function E(e, n) {
                        return {
                            eventId: k(),
                            dateTime: Ue(e),
                            sessionId: _(),
                            deviceId: q(n)
                        }
                    }

                    function Ne(e, n) {
                        var t;
                        const r = (t = e.consents) !== null && t !== void 0 ? t : [];
                        if (r.length === 0) return [];
                        const o = [];
                        return r.forEach(a => {
                            const c = Le(a, e, n);
                            c != null && o.push(c)
                        }), o
                    }

                    function Le(e, n, t) {
                        try {
                            let r;
                            if (e.status === u.ConsentStatus.OptIn) r = "opt-in";
                            else if (e.status === u.ConsentStatus.OptOut) r = "opt-out";
                            else return y().log.error(`Consent value should be either "${u.ConsentStatus.OptIn}" or "${u.ConsentStatus.OptOut}"`, n), null;
                            return Object.assign(Object.assign({}, E(n, t)), {
                                eventType: "consentLog",
                                category: "Engagement",
                                purpose: e.purpose,
                                provider: e.provider,
                                status: r
                            })
                        } catch (r) {
                            return y().log.error(r.message), null
                        }
                    }

                    function S(e) {
                        var n, t, r, o, a, c;
                        return {
                            interactionName: (n = e ? .interaction) === null || n === void 0 ? void 0 : n.name,
                            pageView: e ? .pageView,
                            sourceUrl: (t = e ? .source) === null || t === void 0 ? void 0 : t.url,
                            sourceUrlReferrer: (r = e ? .source) === null || r === void 0 ? void 0 : r.urlReferrer,
                            sourceChannel: (o = e ? .source) === null || o === void 0 ? void 0 : o.channel,
                            sourceLocale: (a = e ? .source) === null || a === void 0 ? void 0 : a.locale,
                            sourcePageType: (c = e ? .source) === null || c === void 0 ? void 0 : c.pageType
                        }
                    }
                    const De = /^[a-zA-Z](?!.*__)(?!.*_$)\w{0,79}$/;

                    function B(e) {
                        return typeof e != "string" || !De.test(e) ? (y().log.warn(`[Invalid eventType: "${e}"] Must begin with a letter (a-zA-Z) and can only contain alphanumeric characters and underscores (no spaces.) Also cannot end with or have consecutive underscores. Max 80 characters.`), null) : e
                    }

                    function $e(e, n) {
                        var t;
                        const r = (t = e ? .user) === null || t === void 0 ? void 0 : t.attributes;
                        if (typeof r != "object") return [];
                        const o = B(r ? .eventType);
                        if (o == null) throw new Error(`Missing or invalid required "user.attributes.eventType" string in action: ${JSON.stringify(e,null,"	")}`);
                        return [Object.assign(Object.assign(Object.assign(Object.assign({}, E(e, n)), S(e)), r), {
                            eventType: o,
                            category: "Profile"
                        })]
                    }

                    function G(e) {
                        return {
                            eventId: k(),
                            category: e.category,
                            dateTime: e.dateTime,
                            deviceId: e.deviceId,
                            sessionId: e.sessionId,
                            eventType: ""
                        }
                    }

                    function xe(e) {
                        return e ? .id != null
                    }

                    function Pe(e) {
                        return e ? .id != null && e ? .type != null
                    }

                    function U(e) {
                        return e ? .catalogObjectId != null && e ? .catalogObjectType != null && e ? .quantity != null
                    }

                    function _e(e) {
                        return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
                    }
                    var N = {
                        exports: {}
                    };
                    const qe = /[\p{Lu}]/u,
                        Me = /[\p{Ll}]/u,
                        J = /^[\p{Lu}](?![\p{Lu}])/gu,
                        W = /([\p{Alpha}\p{N}_]|$)/u,
                        K = /[_.\- ]+/,
                        Fe = new RegExp("^" + K.source),
                        X = new RegExp(K.source + W.source, "gu"),
                        Z = new RegExp("\\d+" + W.source, "gu"),
                        Ve = (e, n, t) => {
                            let r = !1,
                                o = !1,
                                a = !1;
                            for (let c = 0; c < e.length; c++) {
                                const i = e[c];
                                r && qe.test(i) ? (e = e.slice(0, c) + "-" + e.slice(c), r = !1, a = o, o = !0, c++) : o && a && Me.test(i) ? (e = e.slice(0, c - 1) + "-" + e.slice(c - 1), a = o, o = !1, r = !0) : (r = n(i) === i && t(i) !== i, a = o, o = t(i) === i && n(i) !== i)
                            }
                            return e
                        },
                        He = (e, n) => (J.lastIndex = 0, e.replace(J, t => n(t))),
                        ke = (e, n) => (X.lastIndex = 0, Z.lastIndex = 0, e.replace(X, (t, r) => n(r)).replace(Z, t => n(t))),
                        Q = (e, n) => {
                            if (!(typeof e == "string" || Array.isArray(e))) throw new TypeError("Expected the input to be `string | string[]`");
                            if (n = {
                                    pascalCase: !1,
                                    preserveConsecutiveUppercase: !1,
                                    ...n
                                }, Array.isArray(e) ? e = e.map(a => a.trim()).filter(a => a.length).join("-") : e = e.trim(), e.length === 0) return "";
                            const t = n.locale === !1 ? a => a.toLowerCase() : a => a.toLocaleLowerCase(n.locale),
                                r = n.locale === !1 ? a => a.toUpperCase() : a => a.toLocaleUpperCase(n.locale);
                            return e.length === 1 ? n.pascalCase ? r(e) : t(e) : (e !== t(e) && (e = Ve(e, t, r)), e = e.replace(Fe, ""), n.preserveConsecutiveUppercase ? e = He(e, t) : e = t(e), n.pascalCase && (e = r(e.charAt(0)) + e.slice(1)), ke(e, r))
                        };
                    N.exports = Q, N.exports.default = Q;
                    var Be = N.exports,
                        Y = _e(Be);

                    function w(e, n, t = {}) {
                        return e == null || (typeof e == "object" ? Object.keys(e).forEach(r => {
                            const o = e[r],
                                a = n != null ? Y(n + "." + r) : Y(r);
                            return w(o, a, t)
                        }) : n != null && (t[n] = e)), t
                    }

                    function z(e) {
                        return I(e, "catalogObjectType", "catalogObjectId", "quantity"), Object.assign({
                            catalogObjectType: e.catalogObjectType,
                            catalogObjectId: e.catalogObjectId,
                            price: e.price,
                            quantity: e.quantity,
                            currency: e.currency
                        }, w(e.attributes, "attribute"))
                    }

                    function ee(e, n, t) {
                        const r = Ge(e, t);
                        return [r, ...Je(r, n)]
                    }

                    function Ge(e, n) {
                        return Object.assign(Object.assign(Object.assign({}, E(e, n)), S(e)), {
                            category: "Engagement",
                            eventType: "cart"
                        })
                    }

                    function Je(e, n) {
                        const t = [];
                        if (We(n) || Ke(n)) {
                            I(n, "lineItem");
                            const r = L(e, n.lineItem);
                            r != null && t.push(r)
                        } else Xe(n) ? (I(n, "lineItems"), n.lineItems.forEach(r => {
                            const o = L(e, r);
                            o != null && t.push(o)
                        })) : new Set(n.lineItems).add(n.lineItem).forEach(r => {
                            if (U(r)) {
                                const o = L(e, r);
                                o != null && t.push(o)
                            }
                        });
                        return t
                    }

                    function L(e, n) {
                        try {
                            return Object.assign(Object.assign(Object.assign({}, G(e)), z(n)), {
                                eventType: "cartItem",
                                cartEventId: e.eventId
                            })
                        } catch (t) {
                            return y().log.error(t.message), null
                        }
                    }

                    function We(e) {
                        return e.name === u.CartInteractionName.AddToCart
                    }

                    function Ke(e) {
                        return e.name === u.CartInteractionName.RemoveFromCart
                    }

                    function Xe(e) {
                        return e.name === u.CartInteractionName.ReplaceCart
                    }

                    function te(e, n, t) {
                        I(n, "catalogObject");
                        const r = n.catalogObject;
                        return [Ze(e, r, t)]
                    }

                    function Ze(e, n, t) {
                        return I(n, "id", "type"), Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, E(e, t)), S(e)), w(n.attributes, "attribute")), w(n.relatedCatalogObjects, "relatedCatalogObject")), {
                            category: "Engagement",
                            eventType: "catalog",
                            id: n.id,
                            type: n.type
                        })
                    }

                    function ne(e, n, t) {
                        I(n, "order");
                        const r = n.order,
                            o = Qe(e, r, t);
                        return [o, ...Ye(o, r)]
                    }

                    function Qe(e, n, t) {
                        return I(n, "id"), Object.assign(Object.assign(Object.assign(Object.assign({}, E(e, t)), S(e)), w(n.attributes, "attribute")), {
                            category: "Engagement",
                            eventType: "order",
                            orderId: n.id,
                            orderCurrency: n.currency,
                            orderTotalValue: n.totalValue
                        })
                    }

                    function Ye(e, n) {
                        if (n.lineItems == null) return [];
                        const t = [];
                        return n.lineItems.forEach(r => {
                            const o = ze(e, r);
                            o != null && t.push(o)
                        }), t
                    }

                    function ze(e, n) {
                        try {
                            return Object.assign(Object.assign(Object.assign({}, G(e)), z(n)), {
                                eventType: "orderItem",
                                orderEventId: e.eventId
                            })
                        } catch (t) {
                            return y().log.error(t.message), null
                        }
                    }

                    function et(e, n, t) {
                        return [...nt(e, n, t), ...tt(e, n, t)]
                    }

                    function tt(e, n, t) {
                        var r;
                        const o = B((r = n.eventType) !== null && r !== void 0 ? r : n.name);
                        if (o == null) return [];
                        const a = Object.keys(e.interaction).reduce((c, i) => (i !== "name" && (c[i] = n[i]), c), {});
                        return [Object.assign(Object.assign(Object.assign(Object.assign({}, w(a)), E(e, t)), S(e)), {
                            eventType: o,
                            category: "Engagement"
                        })]
                    }

                    function nt(e, n, t) {
                        return n ? .eventType == null ? [...rt(e, n, t), ...ot(e, n, t), ...at(e, n, t)] : []
                    }

                    function rt(e, n, t) {
                        return ct(n) ? ne(e, n, t) : []
                    }

                    function ot(e, n, t) {
                        return it(n) ? te(e, n, t) : []
                    }

                    function at(e, n, t) {
                        return st(n) ? ee(e, n, t) : []
                    }

                    function ct(e) {
                        return xe(e ? .order)
                    }

                    function it(e) {
                        return Pe(e ? .catalogObject)
                    }

                    function st(e) {
                        var n;
                        return U(e ? .lineItem) || ((n = e ? .lineItems) === null || n === void 0 ? void 0 : n.some(U))
                    }

                    function ut(e, n) {
                        const t = e ? .interaction;
                        return t == null ? [] : (I(e.interaction, "name"), lt(t) ? ne(e, t, n) : dt(t) ? te(e, t, n) : ft(t) ? ee(e, t, n) : et(e, t, n))
                    }

                    function lt(e) {
                        return u.OrderInteractionName.Return === e.name || u.OrderInteractionName.Ship === e.name || u.OrderInteractionName.Preorder === e.name || u.OrderInteractionName.Cancel === e.name || u.OrderInteractionName.Exchange === e.name || u.OrderInteractionName.Purchase === e.name || u.OrderInteractionName.Deliver === e.name
                    }

                    function dt(e) {
                        return u.CatalogObjectInteractionName.ViewCatalogObject === e.name || u.CatalogObjectInteractionName.CommentCatalogObject === e.name || u.CatalogObjectInteractionName.FavoriteCatalogObject === e.name || u.CatalogObjectInteractionName.ReviewCatalogObject === e.name || u.CatalogObjectInteractionName.ShareCatalogObject === e.name || u.CatalogObjectInteractionName.QuickViewCatalogObject === e.name || u.CatalogObjectInteractionName.ViewCatalogObjectDetail === e.name
                    }

                    function ft(e) {
                        return u.CartInteractionName.ReplaceCart === e.name || u.CartInteractionName.AddToCart === e.name || u.CartInteractionName.RemoveFromCart === e.name
                    }

                    function vt(e, n) {
                        return [...Ne(e, n), ...$e(e, n), ...ut(e, n)]
                    }

                    function pt(e) {
                        const n = ue(e);
                        return t => O(this, void 0, void 0, function*() {
                            if (yield n()) {
                                const r = vt(t, e);
                                yield fe(t, e, r)
                            }
                        })
                    }
                    const {
                        OnEventSend: gt,
                        OnException: mt,
                        OnBeforeInit: ht
                    } = u.CustomEvents;

                    function It(e) {
                        I(e, "tenantSpecificEndpoint", "authenticator"), I(e.authenticator, "appSourceId"), e.tenantSpecificEndpoint = ae(e.tenantSpecificEndpoint, "tenantSpecificEndpoint is invalid");
                        const n = pt(e);
                        re(ht, t => O(this, void 0, void 0, function*() {
                            t ? .detail.sdkConfig !== void 0 && (t.detail.sdkConfig.dataCloud = e)
                        })), re(gt, t => O(this, void 0, void 0, function*() {
                            try {
                                Ot() || yt(t) ? yield n(t.detail.actionEvent): y().log.debug("event not sent to CDP because consent was not given")
                            } catch (r) {
                                y().log.error(r.message), $(mt, {
                                    error: r
                                })
                            }
                        }))
                    }

                    function re(e, n) {
                        function t() {
                            document.removeEventListener(e, n), window.removeEventListener("pagehide", t)
                        }
                        document.addEventListener(e, n), window.addEventListener("pagehide", t)
                    }

                    function Ot() {
                        return y().getConsents().findIndex(e => e.consent.status === u.ConsentStatus.OptIn) >= 0
                    }

                    function yt(e) {
                        return e.detail.actionEvent.interaction.name === u.MetadataUpdateInteractionName.MetadataUpdate && e.detail.actionEvent.consents.findIndex(n => n.status === u.ConsentStatus.OptOut) >= 0
                    }
                    return It
                }(window.SalesforceInteractions);

                try {
                    cdpEventReceiver({
                        tenantSpecificEndpoint: "https://mq4gc9bygjrwmyjwmq2wkzd0m0.c360a.salesforce.com",
                        authenticator: {
                            appSourceId: "06d98611-cc07-425e-a3a5-feb3b4cfdc80"
                        }
                    });
                } catch (e) {
                    console.error("[Salesforce Data Cloud] Error initializing Web SDK:", e);
                }
            })();

            // PERSONALIZATION MODULE
            (function() {
                try {
                    (function(p) {
                        "use strict";

                        function v(n) {
                            var t = Object.create(null);
                            return n && Object.keys(n).forEach(function(e) {
                                if (e !== "default") {
                                    var i = Object.getOwnPropertyDescriptor(n, e);
                                    Object.defineProperty(t, e, i.get ? i : {
                                        enumerable: !0,
                                        get: function() {
                                            return n[e]
                                        }
                                    })
                                }
                            }), t.default = n, Object.freeze(t)
                        }
                        var a = v(p);
                        class c extends Error {
                            constructor(t) {
                                super(t), this.name = this.constructor.name
                            }
                        }
                        class m extends Error {
                            constructor(t) {
                                super(t), this.name = this.constructor.name
                            }
                        }

                        function y(n) {
                            return typeof n == "string"
                        }

                        function I(n) {
                            return n === ""
                        }

                        function o(n) {
                            return !y(n) || I(n)
                        }

                        function E(n) {
                            return typeof n > "u" || n === null
                        }

                        function w(n) {
                            return Array.isArray(n)
                        }

                        function C(n) {
                            return n.length === 0
                        }

                        function O(n) {
                            return !w(n) || C(n)
                        }

                        function s(n) {
                            return typeof n == "object" && n !== null && !Array.isArray(n)
                        }

                        function d(n, t) {
                            return s(n) && !!Object.prototype.hasOwnProperty.call(n, t)
                        }
                        const S = "personalization/decisions";
                        let u, l = {};

                        function z() {
                            return u ? ? ""
                        }

                        function P() {
                            return l ? .dataspace ? ? ""
                        }

                        function b() {
                            document.addEventListener(a.CustomEvents.OnBeforeInit, n => {
                                const t = n ? .detail.sdkConfig;
                                t !== void 0 && (l = { ...l,
                                    ...t.personalization ? ? {}
                                }, n.detail.sdkConfig.personalization = l)
                            })
                        }

                        function D() {
                            document.addEventListener(a.CustomEvents.OnInit, n => {
                                const t = n ? .detail ? .sdkConfig ? .dataCloud;
                                if (E(t)) {
                                    a.log.warn("OnInit did not include Data Cloud config");
                                    return
                                }
                                if (o(t.tenantSpecificEndpoint)) a.log.warn("Tenant Specific Endpoint URL was not provided in Data Cloud config");
                                else try {
                                    u = new URL(S, t.tenantSpecificEndpoint).toString()
                                } catch {
                                    a.log.warn(`Tenant Specific Endpoint URL is not valid: ${t.tenantSpecificEndpoint}`)
                                }!s(t.authenticator) || o(t.authenticator.appSourceId) ? a.log.warn("App Source Id was not provided in Data Cloud config") : t.authenticator.appSourceId
                            })
                        }

                        function j() {
                            if (o(u)) throw new c("Tenant Specific Endpoint URL must be set by calling SalesforceInteractions.init")
                        }
                        let g = null;

                        function N(n) {
                            if (s(n) && (d(n, "anchorId") || d(n, "anchorDmoName"))) {
                                const t = { ...d(n, "anchorDmoName") && {
                                        anchorDmoName: n.anchorDmoName
                                    },
                                    anchorId: n.anchorId ? ? ""
                                };
                                return A(t), t.anchorId === null ? null : t
                            } else return g
                        }

                        function A(n) {
                            if (d(n, "anchorDmoName") && (o(n.anchorDmoName) || o(n.anchorId))) throw o(n.anchorId) ? new c("anchorId cannot be null if anchorDmoName is provided") : new c("anchorDmoName must be a non-empty string when provided");
                            if (n.anchorId !== null && o(n.anchorId)) throw new c("anchorId must be null or a non-empty string")
                        }
                        document.addEventListener(a.CustomEvents.OnEventSend, n => {
                            if (n ? .detail ? .actionEvent ? .interaction ? .name === a.CatalogObjectInteractionName.ViewCatalogObject) {
                                const t = n.detail.actionEvent.interaction.catalogObject;
                                s(t) && !o(t.id) && !o(t.type) && h({
                                    anchorId: t.id
                                })
                            }
                        }), document.addEventListener(a.CustomEvents.OnInit, () => {
                            h(null)
                        });

                        function h(n) {
                            g = n
                        }
                        async function T(n) {
                            return j(), await window.fetch(z(), {
                                method: "POST",
                                cache: "no-store",
                                headers: {
                                    "Content-Type": "application/json",
                                    Accept: "application/json, text/javascript, */*; q=0.01"
                                },
                                body: JSON.stringify(n)
                            }).then(async t => {
                                if (t.ok) return await t.json(); {
                                    const e = await t.text();
                                    throw new m(`Personalization fetch failed, status: ${t.status}, message: ${e}`)
                                }
                            }).catch(async t => (t instanceof m || a.log.error("Unexpected error with browser fetch."), await Promise.reject(t)))
                        }

                        function L(n) {
                            if (O(n)) throw new c("The personalizationPoints parameter must be an array of non-empty strings of length >= 1")
                        }

                        function x(n) {
                            if (!s(n)) throw new c("The context parameter must be an object")
                        }

                        function B(n, t) {
                            L(n), t !== void 0 && x(t);
                            const e = {
                                    personalizationPoints: n.map(r => {
                                        if (o(r)) throw new c(`The personalizationPoints parameter must be an array of non-empty strings of length >= 1. ${r} is not a non-empty string`);
                                        return {
                                            name: r
                                        }
                                    }),
                                    context: {
                                        individualId: a.getAnonymousId(),
                                        ...N(t)
                                    }
                                },
                                i = P();
                            return o(i) || (e.context.dataspace = i), e
                        }
                        var R = (n => (n.Cart = "cart", n.CartItem = "cartItem", n.Catalog = "catalog", n.Consent = "consentLog", n.Order = "order", n.OrderItem = "orderItem", n))(R || {}),
                            U = (n => (n.Engagement = "Engagement", n.Profile = "Profile", n))(U || {}),
                            $ = (n => (n.Category = "category", n.DateTime = "dateTime", n.DeviceId = "deviceId", n.EventId = "eventId", n.EventType = "eventType", n.SessionId = "sessionId", n))($ || {}),
                            _ = (n => (n.OnBeforeEventSend = "dataCloud:onBeforeEventSend", n))(_ || {}),
                            q = (n => (n.Id = "personalizationId", n.ContentId = "personalizationContentId", n))(q || {});

                        function k() {
                            document.addEventListener("dataCloud:onBeforeEventSend", n => {
                                const t = n.detail.actionEvent;
                                if (V(t)) {
                                    const e = t.personalization;
                                    if (s(e) && (!o(e.id) || !o(e.contentId))) {
                                        let i = n.detail.events;
                                        const r = F(i);
                                        if (r.length > 0) {
                                            if (r.length === i.length) {
                                                a.log.warn("Cancelling event since Personalization fields are already present in events: %O", i), n.preventDefault();
                                                return
                                            }
                                            r.forEach(f => a.log.warn("Not sending event since Personalization fields are already present in event: %O", f)), i = i.filter(f => !r.includes(f)), n.detail.events = i
                                        }
                                        H(e, i)
                                    }
                                }
                            })
                        }

                        function V(n) {
                            return "personalization" in n
                        }

                        function F(n) {
                            return n.filter(t => d(t, "personalizationId") || d(t, "personalizationContentId"))
                        }

                        function H(n, t) {
                            t.filter(e => e.category === "Engagement" && e.eventType !== "consentLog").forEach(e => {
                                o(n.id) || (e.personalizationId = n.id), o(n.contentId) || (e.personalizationContentId = n.contentId)
                            })
                        }
                        async function J(n, t) {
                            try {
                                const e = B(n, t);
                                return await T(e)
                            } catch (e) {
                                return p.log.error(e), await Promise.reject(e)
                            }
                        }
                        b(), D(), k(), window.SalesforceInteractions.Personalization = {
                            fetch: J
                        }
                    })(window.SalesforceInteractions);

                } catch (e) {
                    console.error("[Salesforce Personalization] Error initializing Personalization:", e);
                }
            })();

            // SITEMAP AND INIT
            try {
                (function() {
                    SalesforceInteractions.init({
                        consents: [{
                            provider: 'ExampleProvider',
                            purpose: SalesforceInteractions.ConsentPurpose.Tracking,
                            status: 'Opt In'
                        }]
                    }).then(() => {
                        console.log('init done');
                        // set the log level during sitemap development to see potential problems
                        SalesforceInteractions.log.level = 'debug'

                        const {
                            cashDom,
                            listener,
                            resolvers,
                            sendEvent,
                            util,
                            CartInteractionName,
                            CatalogObjectInteractionName,
                            OrderInteractionName,
                            DisplayUtils,
                            CustomEvents,
                        } = SalesforceInteractions

                        var domain = '';
                        if (/\/intl/.test(window.location.href)) {
                            domain = 'BibaGlobal';
                        } else if (window.location.hostname === 'www.rangriti.com') {
                            domain = 'Rangriti';
                        } else {
                            domain = 'Biba';
                        }

                        const global = {
                            // attach optional data to every actionEvent that is sent out 
                            //"footer#footercontent",
                            onActionEvent: (actionEvent) => {
                                DisplayUtils.pageElementLoaded(
                                    "footer#footercontent",
                                    "html",
                                ).then(() => {
                                    //const customer_no = cashDom('#footercontent').attr("data-customerid");
                                    const customer_no = cashDom('#GetUpdatedCustomerNo').val();
                                    //const is_loggedin = cashDom('#footercontent').attr("data-is-loggedin");
                                    //console.log(customer_id);
                                    //console.log(is_loggedin);
                                    console.log(actionEvent);
                                    if ((customer_no && customer_no != 'null')) {
                                        //console.log(customer_no);
                                        //console.log(is_loggedin);

                                        //const firstName = cashDom('.profile-msg').text().split("Hello, ")[1].split('!')[0];
                                        setTimeout(function() {
                                            DisplayUtils.pageElementLoaded(
                                                ".profile-msg",
                                                "html",
                                            ).then(() => {
                                                const greetings = cashDom('.profile-msg').text();
                                                const firstName = greetings ? greetings.split("Hello,")[1].trim().split('!')[0] : '';
                                                actionEvent.user = actionEvent.user || {}
                                                actionEvent.user.attributes = actionEvent.user.attributes || {}
                                                actionEvent.user.attributes.customerNo = customer_no
                                                actionEvent.user.attributes.siteId = domain
                                                actionEvent.user.attributes.firstName = firstName
                                                actionEvent.user.attributes.eventType = 'identity'
                                                actionEvent.user.attributes.isAnonymous = 0
                                            });
                                            setTimeout(function() {
                                                if (_etmc && _etmc.user_info) {
                                                    var user_info = _etmc.user_info.email.split('|');
                                                    var phoneNumber = user_info[0];
                                                    var email = user_info[1];
                                                    var customer_id = user_info[3];
                                                    actionEvent.user.attributes.email = email
                                                    actionEvent.user.attributes.phoneNumber = phoneNumber
                                                    actionEvent.user.attributes.customerId = customer_id
                                                }
                                            }, 50);
                                        }, 50);
                                    }
                                });
                                return actionEvent
                            }
                        }



                        const homePage = {
                            name: 'home_page',

                            isMatch: () => {
                                return DisplayUtils.pageElementLoaded(".homepage", "html").then(() => true)
                            },
                            interaction: {
                                name: "HomePage",
                                eventType: "webLog",
                                siteId: domain,
                            },
                        }

                        const productListingPage = {
                            name: 'product_listing_page',
                            interaction: {
                                name: "ProductListingPage",
                                eventType: "webLog",
                                siteId: domain,
                            },
                            isMatch: () => {
                                return DisplayUtils.pageElementLoaded(".page[data-action='Search-Show']", "html").then(() => true)
                            },
                            listeners: [
                                listener("click", ".quickview", (e) => {
                                    console.log('quickview');
                                    const pid = cashDom(e.target).closest('.quickview').attr("data-url").split("pid=")[1];
                                    console.log(pid);
                                    if (!pid) {
                                        return;
                                    }

                                    SalesforceInteractions.sendEvent({
                                        interaction: {
                                            name: CatalogObjectInteractionName.QuickViewCatalogObject,
                                            //siteId: domain,
                                            catalogObject: {
                                                type: "Product",
                                                id: pid,
                                                //siteId: domain,
                                                attributes: {
                                                    siteId: domain,
                                                },
                                            },
                                        },
                                    });
                                }),
                                // capture when the user adds this product to their cart
                                //DisplayUtils.pageElementLoaded(".modal-open", "html").then((elem) => { 
                                listener('click', '.modal-open .quickview-sec button.add-to-cart-global', () => {
                                    console.log('add to cart - quickview');
                                    sendEvent({
                                        interaction: {
                                            name: CartInteractionName.AddToCart,
                                            //siteId: domain,                 
                                            lineItem: {
                                                catalogObjectType: 'Product',
                                                catalogObjectId: cashDom('.product').attr('data-pid'),
                                                quantity: 1,
                                                price: parseFloat(cashDom('.product .price').text().trim().replace(/[^0-9\.]+/g, "")),
                                                attributes: {
                                                    siteId: domain,
                                                },
                                            },
                                        },
                                        //siteId: domain,
                                    });
                                }),
                                //}),
                            ]
                        }

                        const productPage = {
                            name: 'product_details_page',
                            // capture the product being viewed when the page is opened
                            interaction: {
                                name: CatalogObjectInteractionName.ViewCatalogObjectDetail,
                                //siteId: domain,
                                catalogObject: {
                                    type: 'Product',
                                    //id: cashDom('.product').attr('data-pid'),
                                    id: () => {
                                        return SalesforceInteractions.util.resolveWhenTrue.bind(() => {
                                            const productId = cashDom('.product').attr('data-pid');

                                            return productId;
                                        });
                                    },
                                    attributes: {
                                        siteId: domain,
                                    },
                                }
                            },
                            isMatch: () => {
                                return DisplayUtils.pageElementLoaded(".page[data-action='Product-Show']", "html").then(() => true)
                            },
                            //isMatch:  true,    
                            listeners: [
                                // capture when the user adds this product to their cart
                                listener('click', '.js-add-to-cart .add-to-cart-global', () => {
                                    console.log('add to cart - product details');
                                    sendEvent({
                                        interaction: {
                                            name: CartInteractionName.AddToCart,
                                            //siteId: domain, 
                                            lineItem: {
                                                catalogObjectType: 'Product',
                                                catalogObjectId: cashDom('.product').attr('data-pid'),
                                                quantity: 1,
                                                price: parseFloat(cashDom('.product .price span.sales').text().trim().replace(/[^0-9\.]+/g, "")),
                                                attributes: {
                                                    siteId: domain,
                                                },
                                            },
                                        },
                                    });
                                }),
                                listener("click", ".quickview", (e) => {
                                    console.log('quickview');
                                    const pid = cashDom(e.target).closest('.quickview').attr("data-url").split("pid=")[1];
                                    console.log(pid);
                                    if (!pid) {
                                        return;
                                    }

                                    SalesforceInteractions.sendEvent({
                                        interaction: {
                                            name: CatalogObjectInteractionName.QuickViewCatalogObject,
                                            //siteId: domain, 
                                            catalogObject: {
                                                type: "Product",
                                                id: pid,
                                                attributes: {
                                                    siteId: domain,
                                                },
                                            },
                                        },
                                    });
                                }),
                                listener('click', '.modal-open .quickview-sec button.add-to-cart-global', () => {
                                    console.log('add to cart - quickview');
                                    sendEvent({
                                        interaction: {
                                            name: CartInteractionName.AddToCart,
                                            //siteId: domain,
                                            lineItem: {
                                                catalogObjectType: 'Product',
                                                catalogObjectId: cashDom('.product').attr('data-pid'),
                                                quantity: 1,
                                                price: parseFloat(cashDom('.product .price').text().trim().replace(/[^0-9\.]+/g, "")),
                                                attributes: {
                                                    siteId: domain,
                                                },
                                            },
                                        },
                                    });
                                }),

                            ],
                        }

                        //const removedPid = cashDom('.remove-product').attr('data-pid')
                        const cartPage = {
                            name: 'cart_page',
                            interaction: {
                                name: "CartPage",
                                eventType: "webLog",
                                siteId: domain,
                            },
                            isMatch: () => {
                                return DisplayUtils.pageElementLoaded(".page[data-action='Cart-Show']", "html").then(() => true)
                            },
                            listeners: [
                                listener("click", ".remove-product", (evt) => {
                                    var pid = cashDom(evt.target).closest('button').attr("data-pid");
                                    console.log(pid);
                                    cashDom("#removeProductModal .cart-delete-confirmation-btn").attr("pid", pid);
                                }),
                                // capture when a user removes an item from their cart
                                //DisplayUtils.pageElementLoaded(".cart-delete-confirmation-btn", "html").then((elem) => { 
                                listener('click', '#removeProductModal .cart-delete-confirmation-btn', (event) => {
                                    console.log('item delete from cart');
                                    var pid = cashDom("#removeProductModal .cart-delete-confirmation-btn").attr("pid");
                                    console.log(pid);
                                    sendEvent({
                                        interaction: {
                                            name: CartInteractionName.RemoveFromCart,
                                            //siteId: domain,
                                            lineItem: {
                                                catalogObjectType: 'Product',
                                                catalogObjectId: removedPid,
                                                quantity: 0,
                                                attributes: {
                                                    siteId: domain,
                                                },
                                            },
                                        },
                                    });
                                    cashDom("#removeProductModal .cart-delete-confirmation-btn").attr("pid", "");
                                }),
                                //}),
                            ]
                        }

                        const addressPage = {
                            name: 'address_page',
                            interaction: {
                                name: "AddressPage",
                                eventType: "webLog",
                                siteId: domain,
                            },
                            isMatch: () => {
                                return DisplayUtils.pageElementLoaded(
                                    "div.page[data-querystring='stage=shipping']",
                                    "html").then(() => true)
                            }
                        }

                        const paymentPage = {
                            name: 'payment_page',
                            interaction: {
                                name: "PaymentPage",
                                eventType: "webLog",
                                siteId: domain,
                            },
                            isMatch: () => {
                                return DisplayUtils.pageElementLoaded(
                                    "div.page[data-querystring='stage=payment']",
                                    "html").then(() => true)
                            }
                        }

                        const orderConfirmationPage = {
                            name: 'order_confirmation_page',
                            isMatch: () => {
                                return DisplayUtils.pageElementLoaded(".page[data-action='Order-Confirmation']", "html").then(() => true)
                            },
                            interaction: {
                                name: OrderInteractionName.Purchase,
                                //siteId: domain,
                                order: {
                                    //id: cashDom(".page[data-action='Order-Confirmation']").attr("data-querystring").split("orderId=")[1].split("&")[0],
                                    //id: 'abc',         
                                    /*id: () => {
                                      return DisplayUtils.pageElementLoaded(".page[data-action='Order-Confirmation']", "html").then((ele) => {
                                        return cashDom(".page[data-action='Order-Confirmation']").attr("data-querystring").split("orderId=")[1].split("&")[0];
                                      });
                                    },
                                    totalValue: () => { 
                                      return DisplayUtils.pageElementLoaded(".page[data-action='Order-Confirmation']", "html").then((ele) => {
                                      		return parseFloat(window.dataLayer[2].ecommerce.value);
                                      });
                                    },*/
                                    id: () => {

                                        var orderId = cashDom(".page[data-action='Order-Confirmation']").attr("data-querystring").split("orderId=")[1].split("&")[0];
                                        console.log(orderId);
                                        return orderId;

                                    },
                                    totalValue: () => {

                                        var totalValue = cashDom(".grand-total-sum")[0].innerText;
                                        totalValue = parseFloat(totalValue.trim().replace(/[^0-9\.]+/g, ""));
                                        console.log(totalValue);
                                        return totalValue;

                                    },
                                    lineItems: () => {
                                        setTimeout(function() {
                                            for (let i = 0; i < dataLayer[2].ecommerce.items.length; i++) {
                                                return {
                                                    catalogObjectType: 'Product',
                                                    catalogObjectId: dataLayer[2].ecommerce.items[i].item_id,
                                                    quantity: 1
                                                }
                                            }
                                        }, 50);
                                    },
                                    /*id: DisplayUtils.pageElementLoaded(
                                          ".page[data-action='Order-Confirmation']",
                                          "html",
                                        ).then(() => {
                                      	setTimeout(function () {
                                      		var orderId = cashDom(".page[data-action='Order-Confirmation']").attr("data-querystring").split("orderId=")[1].split("&")[0];
                                            console.log(orderId);
                                            return orderId;
                                        }, 150);    
                                     }),
                                    totalValue: DisplayUtils.pageElementLoaded(
                                          ".page[data-action='Order-Confirmation']",
                                          "html",
                                        ).then(() => {
                                      	setTimeout(function () {
                                      		var totalValue = window.dataLayer[2].ecommerce.value;
                                            totalValue = parseFloat(totalValue);
                                            console.log(totalValue)
                                        	return totalValue;	
                                        }, 200);    
                                     }), 
                                    lineItems: DisplayUtils.pageElementLoaded(
                                          ".page[data-action='Order-Confirmation']",
                                          "html",
                                        ).then(() => {
                                          let purchaseLineItems = [];
                                          setTimeout(function () {
                                            for (let i = 0; i < window.dataLayer[2].ecommerce.items.length; i++) {                 
                                              var quantity =  window.dataLayer[2].ecommerce.items[i].quantity;
                                              var prod_id =  window.dataLayer[2].ecommerce.items[i].item_id;
                                              var price = window.dataLayer[2].ecommerce.items[i].price;

                                              if (quantity && quantity > 0) {
                                                let lineItem = {
                                                  catalogObjectType: "Product",
                                                  catalogObjectId: prod_id,
                                                  price: price,
                                                  quantity: quantity,
                                                  attributes: {
                                                      siteId: domain,
                                                  },
                                                };
                                                purchaseLineItems.push(lineItem);
                                              }
                                            };
                                            return purchaseLineItems;
                                            }, 200);   
                                        }),*/
                                    /*lineItems: () => { 
                                      return DisplayUtils.pageElementLoaded(".page[data-action='Order-Confirmation']", "html").then((ele) => {
                                        for (let i = 0; i < window.dataLayer[2].ecommerce.items.length; i++) {
                                          if (window.dataLayer[2].ecommerce) 
                                          {
                                            var quantity =  window.dataLayer[2].ecommerce.items[i].quantity;
                                            var prod_id =  window.dataLayer[2].ecommerce.items[i].item_id;
                                            var price = window.dataLayer[2].ecommerce.items[i].price;
                                            return {
                                              catalogObjectType: 'Product',
                                              catalogObjectId: prod_id,
                                              quantity: parseInt(quantity.trim(), 10),
                                              price: parseFloat(price.trim().replace(/[^0-9\.]+/g, "")),
                                            }
                                          }
                                        } 
                                    	}) 
                                    }*/
                                    /*lineItems:  {
            catalogObjectType: 'Product',
            catalogObjectId:() => { return getOrderProductId() },
            quantity: () => { return getOrderQuantity() },
          	attributes: {
                	siteId: CQuotient.siteId, 
                }
       	}*/
                                }
                            }
                        }

                        const pageTypeDefault = {
                            name: 'default'
                        }

                        const getProductsFromDataLayer = () => {
                            if (window.dataLayer) {
                                for (let i = 0; i < window.dataLayer[2].ecommerce.items.length; i++) {
                                    if (
                                        ((window.dataLayer[2].ecommerce && window.dataLayer[2].ecommerce) || {}).items[i]
                                    ) {
                                        return window.dataLayer[2].ecommerce.items[i];
                                    }
                                }
                            }
                        };

                        const getOrderQuantity = () => {
                            let quantitys = [];
                            if (window.dataLayer) {
                                for (let i = 0; i < window.dataLayer[2].ecommerce.items.length; i++) {
                                    if (window.dataLayer[2].ecommerce) {
                                        let quantity = window.dataLayer[2].ecommerce.items[i].quantity;
                                        quantitys.push(quantity);
                                    }
                                }
                            }
                            return quantitys;
                        }

                        const getOrderProductId = () => {
                            let prod_ids = [];
                            if (window.dataLayer) {
                                for (let i = 0; i < window.dataLayer[2].ecommerce.items.length; i++) {
                                    if (window.dataLayer[2].ecommerce) {
                                        let prod_id = window.dataLayer[2].ecommerce.items[i].item_id;
                                        prod_ids.push(prod_id);
                                    }
                                }
                            }
                            return prod_ids;
                        }

                        SalesforceInteractions.initSitemap({
                            global,
                            pageTypeDefault,
                            pageTypes: [homePage, productListingPage, productPage, cartPage, addressPage, paymentPage, orderConfirmationPage]
                        })



                    })
                })()
            } catch (e) {
                console.error("[Salesforce Data Cloud] Error loading sitemap:", e);
            }